<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" type="image/png" href="/roar-docs/assets/favicon.png"><title>Data Cleaning | ROAR Documentation</title><meta name="description" content="Documentation for developers and researchers working on the ROAR - Rapid Online Assessment of Reading Project for Yeatmanlab at Stanford University.">
    <link rel="preload" href="/roar-docs/assets/style-Re8U85i-.css" as="style"><link rel="stylesheet" href="/roar-docs/assets/style-Re8U85i-.css">
    <link rel="modulepreload" href="/roar-docs/assets/app-DhFiweMH.js"><link rel="modulepreload" href="/roar-docs/assets/index.html-CRrpgyM2.js">
    <link rel="prefetch" href="/roar-docs/assets/index.html-DeHW3yPE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-TsR4vylc.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CNPhM3PB.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-2C62HRUd.js" as="script"><link rel="prefetch" href="/roar-docs/assets/project-development-lifecycle.html-ZtQ7fDkr.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BKKKHNKM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/auth.html-Cm6EvhpT.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DpTMDyTE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/audio-optimization.html-DQ4ty6Cq.js" as="script"><link rel="prefetch" href="/roar-docs/assets/image-optimization.html-Bu2AgfAP.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BdOW0xyt.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CRi7tuoq.js" as="script"><link rel="prefetch" href="/roar-docs/assets/administrations.html-DnOhhWtH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/bigquery-rc-file.html-34vo8Bxt.js" as="script"><link rel="prefetch" href="/roar-docs/assets/classes.html-CE4mSrEe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/districts.html-BwzBR1Tq.js" as="script"><link rel="prefetch" href="/roar-docs/assets/families.html-BXu-h6g_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/groups.html-BMWkewO7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/legal-versions.html-DSKCvWzu.js" as="script"><link rel="prefetch" href="/roar-docs/assets/legal.html-Dbua8LRY.js" as="script"><link rel="prefetch" href="/roar-docs/assets/querying-admin-data.html-hjDA7xP7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/schools.html-DVEy-30F.js" as="script"><link rel="prefetch" href="/roar-docs/assets/user-assignments.html-BaaAvfvV.js" as="script"><link rel="prefetch" href="/roar-docs/assets/user-runs.html-DjW9nYu_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/user-scores.html-xhs2WSa1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/user-trials.html-iNwctIBN.js" as="script"><link rel="prefetch" href="/roar-docs/assets/users.html-Csbwx52g.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-urfKk-tc.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-yzSHsMGn.js" as="script"><link rel="prefetch" href="/roar-docs/assets/letter-clowder.html-BMtiQFf9.js" as="script"><link rel="prefetch" href="/roar-docs/assets/multichoice-clowder.html-B97AZFyo.js" as="script"><link rel="prefetch" href="/roar-docs/assets/phoneme-clowder.html-Y7PYfV8c.js" as="script"><link rel="prefetch" href="/roar-docs/assets/roam-arf-calf.html-C-B2svSl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-TsTEXmjp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/score-reports.html-DC6-v309.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BKOTVMGH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/admin.html-CqveC78c.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assessment.html-CehgKMnq.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CbrTTAoe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-OoPJImdc.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-D71-pyxP.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Cm-Y0xrz.js" as="script"><link rel="prefetch" href="/roar-docs/assets/dashboard-integration.html-BpCEw1aJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/monitoring-and-testing.html-D44-6gZc.js" as="script"><link rel="prefetch" href="/roar-docs/assets/preparing-the-app.html-DpGkLpHi.js" as="script"><link rel="prefetch" href="/roar-docs/assets/publishing-to-npm.html-DuPy3NAo.js" as="script"><link rel="prefetch" href="/roar-docs/assets/secrets-overview.html-B-NwEJ4z.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Fluency.html-wIsqPLDo.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Letter.html-BqZtRJ71.js" as="script"><link rel="prefetch" href="/roar-docs/assets/PA.html-D-GBsBg1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BM3icd-f.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SRE.html-D8YES5Sx.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SWR.html-8mB37eGd.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-vcCv4Erx.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DMnaaFcS.js" as="script"><link rel="prefetch" href="/roar-docs/assets/data-validator-trigger.html-OUSUvl8o.js" as="script"><link rel="prefetch" href="/roar-docs/assets/data-validator.html-BvO65K5v.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CTUGvioI.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BzA98t6t.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assignment-creation.html-DNCpq4kC.js" as="script"><link rel="prefetch" href="/roar-docs/assets/authentication.html-BPWjqO23.js" as="script"><link rel="prefetch" href="/roar-docs/assets/creating-users.html-DXQsyvsj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/roster-changes.html-Bommx7DH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/test-clever-users.html-BDZLQsXl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-e9eReU1l.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Dr9wFbk5.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CgtTdK-J.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DepR-6WX.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BJk9e2H4.js" as="script"><link rel="prefetch" href="/roar-docs/assets/data-models.html-Eq2-7j1Q.js" as="script"><link rel="prefetch" href="/roar-docs/assets/database-implementations.html-CF6P-qJa.js" as="script"><link rel="prefetch" href="/roar-docs/assets/error-handling.html-dXJ09W2q.js" as="script"><link rel="prefetch" href="/roar-docs/assets/repository-layer.html-BkNvj0vv.js" as="script"><link rel="prefetch" href="/roar-docs/assets/service-layer.html-D963bK9V.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Cjy0ccmj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-2wK-XIoW.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CM9j9vmm.js" as="script"><link rel="prefetch" href="/roar-docs/assets/append-to-admin-claims.html-PkXwtrvZ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/associate-assessment-uid.html-9PequcgT.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-administrator-account.html-DQA0wGik.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-guest-docs-for-google-users.html-InwqYEQb.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-levante-group.html-klx1v5hF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-levante-users.html-BUfwiG1L.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-new-family.html-DOhf7aGq.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-student-account.html-DHjV4rtJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-classes.html-BwiHXwtQ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-custom-claims.html-BSucAgeP.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-districts.html-6RiAM4H5.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-families.html-KNOEMV9e.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-groups.html-aFIlc-Mm.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-schools.html-Cbb0g7gL.js" as="script"><link rel="prefetch" href="/roar-docs/assets/remove-from-admin-claims.html-B4IHwxeM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/save-survey-responses.html-BGX7lw4R.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-custom-claims.html-B_UoJfLu.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-assignment.html-BHcuNQH4.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-external-data.html-B60u-69t.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user.html-xDHUchcY.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-created.html-Bv0nBgEj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-deleted.html-1wFxyFTH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-updated.html-BnBPtPRl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-administration-update.html-DGK7nPt0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-user-update.html-Br5q7E9V.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-orgs.html-DCAWEBOH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-user.html-yzqV7E1g.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CIEhMIT3.js" as="script"><link rel="prefetch" href="/roar-docs/assets/organize-bucket-logs-by-date.html-B9m_OFT6.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-claims.html-CE5I9A2w.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest-trial.html-DXbPfuTL.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest.html-I9K5yaQT.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-run.html-BUHCRZ-A.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-trial.html-D21XnzGb.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-on-run-doc-update.html-pui4NRfF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CWGAW4Zw.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Bfp3-5oh.js" as="script"><link rel="prefetch" href="/roar-docs/assets/cypress-configuration.html-CTxlLkGw.js" as="script"><link rel="prefetch" href="/roar-docs/assets/dependencies.html-BXnCJmlI.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-cli-configuration.html-CEe8Qts_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-emulator-configuration.html-CGrSJM-S.js" as="script"><link rel="prefetch" href="/roar-docs/assets/github-secrets-and-workflows.html-CUA_gDu9.js" as="script"><link rel="prefetch" href="/roar-docs/assets/importing-and-exporting-data.html-BS9Xmqkv.js" as="script"><link rel="prefetch" href="/roar-docs/assets/local-environment-variables.html-BtAq6HG7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DQfJmN4m.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Bd8xRrJG.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-deploy-preview.html-DIpH1KG0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-hosting-merge.html-BSHdTD9G.js" as="script"><link rel="prefetch" href="/roar-docs/assets/publish-to-npm-create-new-release.html-CS8xvx2b.js" as="script"><link rel="prefetch" href="/roar-docs/assets/submit-dashboard-pr.html-B836VQAk.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DWKLOYZe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Bvikxy64.js" as="script"><link rel="prefetch" href="/roar-docs/assets/administrations-assignments.html-BFYBXr-0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/agreements.html-Bb9Smx81.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assessment-execution.html-C43j0FmE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/measurement-services.html-DNupRRaE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/parent-accounts.html-DGvr9GVU.js" as="script"><link rel="prefetch" href="/roar-docs/assets/permissions.html-ByWVYHFN.js" as="script"><link rel="prefetch" href="/roar-docs/assets/rostering-integration.html-Bi1bHXk5.js" as="script"><link rel="prefetch" href="/roar-docs/assets/task-configuration.html-DStjpYG1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/users-orgs.html-ONcW0vps.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DKLA5BG0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/individual-score-reports.html-C7Wb17ts.js" as="script"><link rel="prefetch" href="/roar-docs/assets/AdministrationServiceError.html-IKOCrZjR.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirebaseClientError.html-BVus6Jej.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirebaseImplementationError.html-DHszd8Wq.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreAdministrationRepository.html-dQJnF8Mp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreAdministrationRepositoryError.html-C6hqSsBP.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreBaseRepository.html-C03cMQZX.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreFilterAdapter.html-Dd8H4UhS.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreIdentityProviderRepository.html-CIt7AAFF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreIdentityProviderRepositoryError.html-CvKft3rm.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreOrgRepository.html-CyLI4v0e.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreOrgRepositoryError.html-DhBXQSuH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreRepositoryError.html-CL9Su5um.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreUserClaimRepository.html-BTfsDPlM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreUserClaimRepositoryError.html-DDQ1NXWi.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreUserRepository.html-DDkO5eC1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreUserRepositoryError.html-ByCRh0qj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/IdentityProviderServiceError.html-BH9Gz1Vk.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-2oH0QJWB.js" as="script"><link rel="prefetch" href="/roar-docs/assets/CollectionType.html-BCMKrdlJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/IdentityProviderType.html-GQS4hplk.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Operator.html-9iWVqwMn.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-COgEvVXS.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BwZzzbLb.js" as="script"><link rel="prefetch" href="/roar-docs/assets/chunkOrgs.html-BMEmp91-.js" as="script"><link rel="prefetch" href="/roar-docs/assets/createAdministrationService.html-BLuDbBPY.js" as="script"><link rel="prefetch" href="/roar-docs/assets/createFirestoreImplementation.html-CtidhiuR.js" as="script"><link rel="prefetch" href="/roar-docs/assets/createIdentityProviderService.html-Cd9rdLAf.js" as="script"><link rel="prefetch" href="/roar-docs/assets/isEmptyOrgs.html-DMCSc89K.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Administration.html-R9hnucqE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/AdministrationBaseRepository.html-kNgM8j7O.js" as="script"><link rel="prefetch" href="/roar-docs/assets/AdministrationService.html-BmhJG4lG.js" as="script"><link rel="prefetch" href="/roar-docs/assets/AssentConsent.html-Cia1DcjX.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Assessment.html-DKwIUXnH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/BaseModel.html-DGiXNl9C.js" as="script"><link rel="prefetch" href="/roar-docs/assets/BaseRepository.html-BMCZE7I7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Claims.html-_Ptyw273.js" as="script"><link rel="prefetch" href="/roar-docs/assets/CompositeCondition.html-B4n4LYJm.js" as="script"><link rel="prefetch" href="/roar-docs/assets/CompositeFilter.html-BE1m62Xf.js" as="script"><link rel="prefetch" href="/roar-docs/assets/CreateAdministrationServiceParams.html-CD3UgEI6.js" as="script"><link rel="prefetch" href="/roar-docs/assets/CreateParams.html-B_SwHMDN.js" as="script"><link rel="prefetch" href="/roar-docs/assets/DeleteParams.html-Ddpcd-DM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/EducationalOrgsList.html-DWCbB1ss.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FieldCondition.html-BqIdbEF8.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FilterAdapter.html-ngTfa9Ux.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreCreateParams.html-DjCRoXav.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreDeleteParams.html-jkZ8DnCe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreFetchDocumentParams.html-DR2BsbtF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreGetAllParams.html-Cnb6fuHJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreGetByIdParams.html-C9XhUTZ3.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreGetByNameParams.html-CQWVOHds.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreGetByRoarUidParams.html-B7fhgQVg.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreGetParams.html-C0gJOtY3.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreGetWithFiltersParams.html-DsgANl5L.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreImplementation.html-QhUgqqw2.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreRunTransactionParams.html-CRhwTuty.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreUpdateParams.html-0uuD_lQq.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FutureParams.html-hIh8vKYw.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetAdministrationIdsForAdministratorParams.html-C0i-2ojV.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetAdministrationIdsFromOrgsParams-1.html-CMsLawve.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetAllParams.html-DKo9UikZ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetByNameParams.html-D4Gk-R5B.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetByProviderIdParams.html-Dr_2KAVe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetByRoarUidParams.html-_PjAoLYs.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetParams.html-BEwvz46q.js" as="script"><link rel="prefetch" href="/roar-docs/assets/GetRoarUidParams.html-BLetEEyI.js" as="script"><link rel="prefetch" href="/roar-docs/assets/IdentityProvider.html-DrYiexSM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/IdentityProviderBaseRepository.html-Bwe0ff_E.js" as="script"><link rel="prefetch" href="/roar-docs/assets/IdentityProviderService.html-lVHzbPAi.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Legal.html-Cg70_SQN.js" as="script"><link rel="prefetch" href="/roar-docs/assets/OrgBase.html-BX_mMcw9.js" as="script"><link rel="prefetch" href="/roar-docs/assets/OrgBaseRepository.html-CDgI5Gbx.js" as="script"><link rel="prefetch" href="/roar-docs/assets/OrgsList.html-Cd-ugn--.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-pOGFjkfE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Result.html-DpPNIRIk.js" as="script"><link rel="prefetch" href="/roar-docs/assets/RunTransactionParams.html-CgPVS8xZ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SingleFilter.html-DbULw28K.js" as="script"><link rel="prefetch" href="/roar-docs/assets/UpdateParams.html-DNZBjTll.js" as="script"><link rel="prefetch" href="/roar-docs/assets/User.html-QQzwOogJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/UserBaseRepository.html-lgUZ-ZZy.js" as="script"><link rel="prefetch" href="/roar-docs/assets/UserClaim.html-TZvDy4AL.js" as="script"><link rel="prefetch" href="/roar-docs/assets/UserClaimBaseRepository.html-CcJ0hDg_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/createIdentityProviderServiceParams.html-CGz0jVHp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/getAdministrationIdsFromOrgsParams.html-S5LXd52L.js" as="script"><link rel="prefetch" href="/roar-docs/assets/setAdministrationIdsParams.html-B4Wr7tUA.js" as="script"><link rel="prefetch" href="/roar-docs/assets/BaseFilter.html-D5gW-AX5.js" as="script"><link rel="prefetch" href="/roar-docs/assets/ComparisonOperator.html-C0huMNfl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Condition.html-Cxd2Aw_R.js" as="script"><link rel="prefetch" href="/roar-docs/assets/DocumentCreatedEvent.html-TOZ0m_IG.js" as="script"><link rel="prefetch" href="/roar-docs/assets/DocumentDeletedEvent.html-CWEys2QB.js" as="script"><link rel="prefetch" href="/roar-docs/assets/DocumentUpdatedEvent.html-CpL6igQQ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/DocumentWrittenEvent.html-8kK669El.js" as="script"><link rel="prefetch" href="/roar-docs/assets/ParameterValue.html-sC3HoG2F.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-C_D1Ti2K.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SelectAllCondition.html-BC-gXgZ-.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirebaseAppClient.html-C4jz-Z3u.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirebaseAuthClient.html-B2-YGNri.js" as="script"><link rel="prefetch" href="/roar-docs/assets/FirestoreClient.html-CTZADQMd.js" as="script"><link rel="prefetch" href="/roar-docs/assets/ORG_NAMES.html-CJKR33nO.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-thqWpRbc.js" as="script"><link rel="prefetch" href="/roar-docs/assets/404.html-C-5YBZ2F.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mermaid.esm.min-LOyYXDGZ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/setupDevtools-7MC2TMWH-CGQzyJP-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/roar-docs/"><img class="vp-site-logo" src="/roar-docs/assets/roar-logo-short.svg" alt="ROAR Documentation"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">ROAR Documentation</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Developer"><span class="title">Developer</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Developer"><span class="title">Developer</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/tech-specs/" aria-label="Tech Specs"><!---->Tech Specs<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/databases/" aria-label="Databases"><!---->Databases<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/bigquery/" aria-label="BigQuery"><!---->BigQuery<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/workflows/" aria-label="Workflows"><!---->Workflows<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/application/" aria-label="Application"><!---->Application<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/github-actions/" aria-label="GitHub Actions"><!---->GitHub Actions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/firebase-app-check/" aria-label="Firebase App Check"><!---->Firebase App Check<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/backend-architecture/" aria-label="Backend Architecture"><!---->Backend Architecture<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/logging-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/emulation/" aria-label="Emulation"><!---->Emulation<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Researcher"><span class="title">Researcher</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Researcher"><span class="title">Researcher</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/researcher/data-tools/" aria-label="Data Tools"><!---->Data Tools<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/researcher/data-organization/" aria-label="Data Organization"><!---->Data Organization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/researcher/data-requests/" aria-label="Data Requests"><!---->Data Requests<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/roar-docs/researcher/data-cleaning/" aria-label="Data Cleaning"><!---->Data Cleaning<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Process"><span class="title">Process</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Process"><span class="title">Process</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/process/project-development-lifecycle/" aria-label="Project Development Lifecycle &amp; Definitions of Done"><!---->Project Development Lifecycle &amp; Definitions of Done<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yeatmanlab/" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Developer"><span class="title">Developer</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Developer"><span class="title">Developer</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/tech-specs/" aria-label="Tech Specs"><!---->Tech Specs<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/databases/" aria-label="Databases"><!---->Databases<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/bigquery/" aria-label="BigQuery"><!---->BigQuery<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/workflows/" aria-label="Workflows"><!---->Workflows<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/application/" aria-label="Application"><!---->Application<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/github-actions/" aria-label="GitHub Actions"><!---->GitHub Actions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/firebase-app-check/" aria-label="Firebase App Check"><!---->Firebase App Check<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/backend-architecture/" aria-label="Backend Architecture"><!---->Backend Architecture<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/logging-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/developer/emulation/" aria-label="Emulation"><!---->Emulation<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Researcher"><span class="title">Researcher</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Researcher"><span class="title">Researcher</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/researcher/data-tools/" aria-label="Data Tools"><!---->Data Tools<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/researcher/data-organization/" aria-label="Data Organization"><!---->Data Organization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/researcher/data-requests/" aria-label="Data Requests"><!---->Data Requests<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/roar-docs/researcher/data-cleaning/" aria-label="Data Cleaning"><!---->Data Cleaning<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Process"><span class="title">Process</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Process"><span class="title">Process</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/process/project-development-lifecycle/" aria-label="Project Development Lifecycle &amp; Definitions of Done"><!---->Project Development Lifecycle &amp; Definitions of Done<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yeatmanlab/" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/roar-docs/researcher/data-tools/" aria-label="Data Tools"><!---->Data Tools<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/researcher/data-tools/" aria-label="Data Tools"><!---->Data Tools<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/roar-docs/researcher/data-organization/" aria-label="Data Organization"><!---->Data Organization<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/researcher/data-organization/" aria-label="Data Organization"><!---->Data Organization<!----></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active collapsible" href="/roar-docs/researcher/data-cleaning/" aria-label="Data Cleaning"><!---->Data Cleaning<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/roar-docs/researcher/data-cleaning/" aria-label="Data Cleaning"><!---->Data Cleaning<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/roar-docs/researcher/data-requests/" aria-label="Data Requests"><!---->Data Requests<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/researcher/data-requests/" aria-label="Data Requests and Task Management"><!---->Data Requests and Task Management<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="data-cleaning" tabindex="-1"><a class="header-anchor" href="#data-cleaning"><span>Data Cleaning</span></a></h1><p>This section walks through the standards and steps of cleaning ROAR data.</p><h2 id="general-guidelines" tabindex="-1"><a class="header-anchor" href="#general-guidelines"><span>General Guidelines</span></a></h2><p>The following steps describe typical cleaning procedures of any ROAR Data (run- or trial-level).</p><ol><li>Removing extra characters (&quot;\&quot;, &quot;[]&quot;, etc.) from the assinging_orgs variables (assinging_classes, assigning_schools, assigning_districts, assigning_groups, assigning_families). Removing these extra characters will help when merging with the organization key that matches organization ids to their names.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  mutate<span class="token punctuation">(</span>assigning_districts <span class="token operator">=</span> str_remove_all<span class="token punctuation">(</span>assigning_districts<span class="token punctuation">,</span> </span>
<span class="line">                                              <span class="token string">&quot;[\\[\\]\\\&quot;\\\\]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate<span class="token punctuation">(</span>assigning_schools <span class="token operator">=</span> str_remove_all<span class="token punctuation">(</span>assigning_schools<span class="token punctuation">,</span> </span>
<span class="line">                                              <span class="token string">&quot;[\\[\\]\\\&quot;\\\\]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate<span class="token punctuation">(</span>assigning_classes <span class="token operator">=</span> str_remove_all<span class="token punctuation">(</span>assigning_classes<span class="token punctuation">,</span> </span>
<span class="line">                                              <span class="token string">&quot;[\\[\\]\\\&quot;\\\\]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate<span class="token punctuation">(</span>assigning_groups <span class="token operator">=</span> str_remove_all<span class="token punctuation">(</span>assigning_groups<span class="token punctuation">,</span> </span>
<span class="line">                                              <span class="token string">&quot;[\\[\\]\\\&quot;\\\\]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate<span class="token punctuation">(</span>assigning_families <span class="token operator">=</span> str_remove_all<span class="token punctuation">(</span>assigning_families<span class="token punctuation">,</span> </span>
<span class="line">                                              <span class="token string">&quot;[\\[\\]\\\&quot;\\\\]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Substituting empty string (&quot;&quot;) values within the dataframe to be NA values for easier database wrangling and filtering.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate_if<span class="token punctuation">(</span>is.character<span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token operator">~</span>na_if<span class="token punctuation">(</span>.<span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Remove columns that have all NA values. There are many columns within the ROAR dataframes that only apply to specific assessments. Removing the columns that are all NA, removes columns that are unneccessary for the current assessment.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  select<span class="token punctuation">(</span>where<span class="token punctuation">(</span><span class="token operator">~</span> <span class="token operator">!</span>all<span class="token punctuation">(</span>is.na<span class="token punctuation">(</span>.<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>Remove duplicate rows. Sometimes during merging, BigQuery will accidentally maintain duplicate or identical rows. Removing them ensures the researcher is accurately counting each unique student, run, or trial.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  distinct<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>Remove test, demo, QA, pilot, and <strong>opt-out</strong> student accounts. Test aaccounts are often created for the interal developers and partnerships teams to test the assessments for correct features and outputs. Demo accounts are often created for organization administrators to explore ROAR and determine if the assessments are fitting for their students. QA accounts are often created for the QA testers to test any changes across the different variants or updates to the dashboard. Pilot accounts are typically created for school districts that are running a small set of students to determine if ROAR is a good fit for their organization. Opt-out accounts are students who have taken ROAR and their data will be used by the school, but their parents/guardians have opted out their data from research use and purposes.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line"><span class="token comment"># remove using is_test and is_demo </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>is_demo_data<span class="token operator">==</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>is_test_data<span class="token operator">==</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># remove test, zzz, qa, demo assessment_pid </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span>str_detect<span class="token punctuation">(</span>tolower<span class="token punctuation">(</span>assessment_pid<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;zzz|test|demo|qa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment"># remove opt-outs </span></span>
<span class="line"><span class="token comment"># https://drive.google.com/file/d/1s85ydQm8MUSJrb3ZAag_G7z6iMitd4it/view?usp=drive_link -&gt; opt out csv </span></span>
<span class="line">opt.out.csv <span class="token operator">&lt;-</span> <span class="token string">&quot;opt_outs_2025-11-05.csv&quot;</span> </span>
<span class="line">opt.out <span class="token operator">&lt;-</span> read.csv<span class="token punctuation">(</span>file.path<span class="token punctuation">(</span>getwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> opt.out.csv<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span>assessment_pid <span class="token percent-operator operator">%in%</span> opt.out<span class="token operator">$</span>assessment_pid<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># remove known test districts  </span></span>
<span class="line"><span class="token comment"># known assigning_districts used for testing</span></span>
<span class="line">test_districts <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;kXyCT8BbFFbuXo5u0M84&quot;</span><span class="token punctuation">)</span> <span class="token comment"># MB Demo District</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># known assigning_groups used for testing</span></span>
<span class="line">test_groups <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;xCfln1aBgGISoxhRhwax&quot;</span><span class="token punctuation">,</span> <span class="token comment"># blank</span></span>
<span class="line">                <span class="token string">&quot;yettgcgO25iX1uupiEgw&quot;</span><span class="token punctuation">,</span> <span class="token comment"># Test Group</span></span>
<span class="line">                <span class="token string">&quot;v1B0A4BY7uVQt4YwEMod&quot;</span><span class="token punctuation">,</span> <span class="token comment"># LEVANTE-CORE-TASKS-TEST</span></span>
<span class="line">                <span class="token string">&quot;S91j0taJd1rXCEXhbSnB&quot;</span><span class="token punctuation">,</span> <span class="token comment"># zzzTG</span></span>
<span class="line">                <span class="token string">&quot;7dX5tAGAFXkdwQ4idPms&quot;</span><span class="token punctuation">,</span> <span class="token comment"># aerdf Demo</span></span>
<span class="line">                <span class="token string">&quot;X7GFqFVDyLFDdun4TqP7&quot;</span> <span class="token comment"># Kyle Test Group</span></span>
<span class="line">                <span class="token punctuation">)</span></span>
<span class="line">  </span>
<span class="line"><span class="token comment"># demo and test schools</span></span>
<span class="line">test_schools <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">&quot;03xEaKoFXSe6QSvNe5Q2&quot;</span><span class="token punctuation">,</span> <span class="token comment"># demo</span></span>
<span class="line">                 <span class="token string">&quot;61e9fd89d016951095f43c65&quot;</span><span class="token punctuation">,</span> <span class="token comment"># Clever Demo Bayview</span></span>
<span class="line">                 <span class="token string">&quot;61e9fd89d016951095f43c68&quot;</span><span class="token punctuation">,</span> <span class="token comment"># Clever Demo Westwood</span></span>
<span class="line">                 <span class="token string">&quot;G2mM3eEwDPZU3h2A4ikZ&quot;</span><span class="token punctuation">,</span> <span class="token comment"># Mia test</span></span>
<span class="line">                 <span class="token string">&quot;RgrPvxn5kkKSal6wdpQy&quot;</span><span class="token punctuation">,</span> <span class="token comment"># ROAR Demo</span></span>
<span class="line">                 <span class="token string">&quot;RqAKFNEVjBrZXvSE7OsC&quot;</span><span class="token punctuation">,</span> <span class="token comment"># SM Demo</span></span>
<span class="line">                 <span class="token string">&quot;rZRPSq6IfUOkAQM2mecC&quot;</span> <span class="token comment"># MB Demo School</span></span>
<span class="line">                 <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># remove known test id&#39;s</span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>assigning_districts <span class="token percent-operator operator">%in%</span> test_districts<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>assigning_groups <span class="token percent-operator operator">%in%</span> test_groups<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>assigning_schools <span class="token percent-operator operator">%in%</span> test_schools<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>Remove NA values in assessment_pid. assessment_pid is the unique identifying variable that can link the run-level, trial-level, and demographic information for each student. Without it, the scores are not useful.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span>is.na<span class="token punctuation">(</span>assessment_pid<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li><strong>There is an active issue with grade. The grades for students prior to 24-25 school year were updated to be the current grade despite when the run was logged. Therefore, we have to use age_in_months_at_run to estimate grade for students who&#39;s grades were incorrectly upgraded to the current school year&#39;s grade.</strong> In addition, to fixing the grade issue with estimation, researchers also have to clean up the values of the grades so they follow a unique pattern (e.g., K, Kinder, Kindergarten all represent the same thing).</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line"><span class="token comment"># remove NA age months </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span>is.na<span class="token punctuation">(</span>age_months_at_run<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># clean up grade </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  muate<span class="token punctuation">(</span>user_grade_at_run <span class="token operator">=</span> case_when<span class="token punctuation">(</span></span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;Kindergarten&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;K&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Kindergarden&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;k&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;Kindergarten&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1st&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;01&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2nd&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;02&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3rd&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;03&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;4th&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;04&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;5th&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;05&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;6th&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;06&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;7th&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;07&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;7&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8th&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;08&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9th&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;09&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;10th&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;11th&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;12th&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;Invalid&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Other&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token keyword">NA</span><span class="token punctuation">,</span> </span>
<span class="line">    user_grade_at_run <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;PK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pre-k&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pre-K&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pre-k&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pre-kindergarten&quot;</span><span class="token punctuation">)</span> <span class="token operator">~</span> <span class="token string">&quot;Pre-K&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">    <span class="token boolean">TRUE</span> <span class="token operator">~</span> user_grade_at_run </span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate<span class="token punctuation">(</span>user_grade_at_run <span class="token operator">=</span> ifelse<span class="token punctuation">(</span><span class="token operator">!</span>user_grade_at_run <span class="token percent-operator operator">%in%</span> </span>
<span class="line">                                      c<span class="token punctuation">(</span><span class="token string">&quot;Pre-K&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Kindergarten&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> </span>
<span class="line">                                        <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">                                    <span class="token keyword">NA</span><span class="token punctuation">,</span> user_grade_at_run<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># create a function to estimate grade based on age_months_at_run </span></span>
<span class="line"><span class="token comment"># estimate grade for anyone before 24-25 school year because of known grade issue </span></span>
<span class="line">estimate_grade <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>age_months<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment"># Determine the grade based on age in months</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>age_months <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment"># Less than 5 years old</span></span>
<span class="line">    return<span class="token punctuation">(</span><span class="token string">&quot;Pre-K&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>age_months <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token operator">&amp;&amp;</span> age_months <span class="token operator">&lt;</span> <span class="token number">72</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment"># 5 years old to (but not including) 6 years old</span></span>
<span class="line">    return<span class="token punctuation">(</span><span class="token string">&quot;Kindergarten&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>age_months <span class="token operator">&gt;=</span> <span class="token number">72</span> <span class="token operator">&amp;&amp;</span> age_months <span class="token operator">&lt;</span> <span class="token number">216</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment"># From 6 years old to (but not including) 18 years old</span></span>
<span class="line">    return<span class="token punctuation">(</span>as.character<span class="token punctuation">(</span>floor<span class="token punctuation">(</span>age_months <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># Grade 1 through 12</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    return<span class="token punctuation">(</span><span class="token string">&quot;12&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># 18 years and older</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate<span class="token punctuation">(</span>user_grade_at_run <span class="token operator">=</span> ifelse<span class="token punctuation">(</span>time_started <span class="token operator">&lt;</span> as.Date<span class="token punctuation">(</span><span class="token string">&quot;2024-07-31&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">                             map_chr<span class="token punctuation">(</span>age_months_at_run<span class="token punctuation">,</span> estimate_grade<span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">                             user_grade_at_run<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># estimate grade for anyone with missing grade </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  mutate<span class="token punctuation">(</span>user_grade_at_run <span class="token operator">=</span> ifelse<span class="token punctuation">(</span>is.na<span class="token punctuation">(</span>user_grade_at_run<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                             map_chr<span class="token punctuation">(</span>age_months_at_run<span class="token punctuation">,</span> estimate_grade<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                             user_grade_at_run<span class="token punctuation">)</span><span class="token punctuation">)</span>                                    </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="trial-level" tabindex="-1"><a class="header-anchor" href="#trial-level"><span>Trial-level</span></a></h2><p>The following steps describe the typical cleaning procedures of ROAR trial-level data.</p><ol><li>Remove duplicate trial ids. In the trial-level dataframes, trial ids exist to uniquely identify the specific trial within the specific run that the student responded to. Ensuring uniqueness of trials ensures the accurate count of unique trials and the number of trials completed within a run.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  distinct<span class="token punctuation">(</span>trial_id<span class="token punctuation">,</span> .keep_all <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Depending on the analyses, researchers will often want to remove practice trials from their analyses so they can isolate test responses.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  filter<span class="token punctuation">(</span>assessment_stage<span class="token operator">==</span><span class="token string">&quot;test_response&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="run-level" tabindex="-1"><a class="header-anchor" href="#run-level"><span>Run-level</span></a></h2><p>The following steps describe the typical cleaning procesdures of ROAR run-level data.</p><ol><li>Filter clean runs. For each of the ROAR assessments, the runs are cleaned using a combination of the following variables: completed, best_run, reliable. For all assessments, completed is used to determine if the student finished the assessment. For core assessment, best_run and reliable are used to determine if the student answered the items in a plausible and reliable way. For the non-core assessments, best_run and reliable are not active features.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line"><span class="token comment"># keep completed runs (non-core assessments) </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>completed<span class="token operator">==</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment"># keep completed, best, and reliable runs (core assessments) </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>best_run<span class="token operator">==</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  filter<span class="token punctuation">(</span>completed<span class="token operator">==</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>reliable <span class="token percent-operator operator">%in%</span> c<span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> <span class="token keyword">NA</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># for older core runs, reliable was set to NA for when it was not an active feature </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Remove NA values for scores. There could be a variety of reasons for NA scores: incomplete assessments, error in data logging, etc. These rows are not useful for analyses and could create issues in modeling moving forward.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span><span class="token operator">!</span>is.na<span class="token punctuation">(</span>computed.composite.score<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>Remove duplicate run ids. In the run-level dataframes, run ids exist to uniquely identify the specific run that the student completed. Ensuring uniqueness of runs ensures the accurate count of unique runs and the number of runs completed for each student.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  distinct<span class="token punctuation">(</span>run_id<span class="token punctuation">,</span> .keep_all <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Optional</em>: Keep only the one run for students who have run more than once. For some analyses, it may be important to only count each student once. The two most common ways to achieve this is to keep the first run or the most recent run for students who have multiple runs of the same assessment.</p><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line"><span class="token comment"># Keep the first run for students who have run more than once on an assessment </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  mutate<span class="token punctuation">(</span>time_started <span class="token operator">=</span> ymd_hms<span class="token punctuation">(</span>time_started<span class="token punctuation">,</span> tz <span class="token operator">=</span> <span class="token string">&quot;UTC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  group_by<span class="token punctuation">(</span>assessment_pid<span class="token punctuation">,</span> task_id<span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>n<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">|</span> time_started <span class="token operator">==</span> min<span class="token punctuation">(</span>time_started<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">$</span><span class="token operator">&gt;</span><span class="token operator">$</span> </span>
<span class="line">  ungroup<span class="token punctuation">(</span><span class="token punctuation">)</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment"># Keep the most recent run for students who have run more than once on an assessment </span></span>
<span class="line">df <span class="token operator">&lt;-</span> df <span class="token percent-operator operator">%&gt;%</span></span>
<span class="line">  mutate<span class="token punctuation">(</span>time_started <span class="token operator">=</span> ymd_hms<span class="token punctuation">(</span>time_started<span class="token punctuation">,</span> tz <span class="token operator">=</span> <span class="token string">&quot;UTC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  group_by<span class="token punctuation">(</span>assessment_pid<span class="token punctuation">,</span> task_id<span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>n<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">|</span> time_started <span class="token operator">==</span> max<span class="token punctuation">(</span>time_started<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">$</span><span class="token operator">&gt;</span><span class="token operator">$</span> </span>
<span class="line">  ungroup<span class="token punctuation">(</span><span class="token punctuation">)</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="bigquery-demographics" tabindex="-1"><a class="header-anchor" href="#bigquery-demographics"><span>BigQuery Demographics</span></a></h2><ol><li>Filter only student demographics. Across Clever and ClassLink, BigQuery stores demographic information for students, teachers, and administrators. Researchers likely only care about the student demographic data.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">demo <span class="token operator">&lt;-</span> demo <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  filter<span class="token punctuation">(</span>user_type<span class="token operator">==</span><span class="token string">&quot;student&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Remove duplicate assessment pids. In the demographic dataframe, assessment pids exist to uniquely identify the specific student and the demographics assigned to them. The demographics are not stored longitudinally, therefore, there shouldn&#39;t be repeat pids.</li></ol><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">demo <span class="token operator">&lt;-</span> demo <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  distinct<span class="token punctuation">(</span>assessment_pid<span class="token punctuation">,</span> .keep_all <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p>Create uniform values for the demographic variables:</p><ul><li>Gender</li><li>English Language Learner Status</li><li>Free/Reduced Lunch Status</li><li>IEP Status</li><li>Hispanic Ethnicity</li><li>Race</li><li>Home Language</li></ul></li></ol><p>See <a href="https://github.com/yeatmanlab/Clean-ROAR-Data/blob/main/Clean_Demographics.Rmd" target="_blank" rel="noopener noreferrer">Clean_Demographics.Rmd</a> for details on cleaning.</p><p><em>Optional</em>: Remove grade variables. Researchers will likely want to use the user_grade_at_run variable to assign grade to each student in the assessment-level dataframes. However, if they are solely looking at demographics of students who are linked to ROAR, then they can keep the grade variable.</p><div class="language-r line-numbers-mode" data-highlighter="prismjs" data-ext="r" data-title="r"><pre><code><span class="line">demo <span class="token operator">&lt;-</span> demo <span class="token percent-operator operator">%&gt;%</span> </span>
<span class="line">  select<span class="token punctuation">(</span><span class="token operator">-</span>grade<span class="token punctuation">)</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/yeatmanlab//edit/main/researcher/data-cleaning/README.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 159967652+kellywentz@users.noreply.github.com">Kelly Wentzlof</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/roar-docs/researcher/data-organization/" aria-label="Data Organization"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Data Organization</span></div></a><a class="route-link auto-link next" href="/roar-docs/researcher/data-requests/" aria-label="Data Requests"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Data Requests</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/roar-docs/assets/app-DhFiweMH.js" defer></script>
  </body>
</html>
