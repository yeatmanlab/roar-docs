<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>createLevanteGroup() | ROAR Developer Documentation</title><meta name="description" content="Documentation for developers working on the ROAR - Rapid Online Assessment of Reading Project for Yeatmanlab at Stanford University.">
    <link rel="preload" href="/roar-docs/assets/style-Ci7I9w-2.css" as="style"><link rel="stylesheet" href="/roar-docs/assets/style-Ci7I9w-2.css">
    <link rel="modulepreload" href="/roar-docs/assets/app-B1l0_fsE.js"><link rel="modulepreload" href="/roar-docs/assets/create-levante-group.html-fo9eAdwD.js">
    <link rel="prefetch" href="/roar-docs/assets/index.html-Db_XB4h4.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-beF1Nri6.js" as="script"><link rel="prefetch" href="/roar-docs/assets/score-reports.html-DcOeAKzh.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CcU0m-c7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/admin.html-5hPimN4G.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assessment.html-CKkE-DsV.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Fluency.html-C9QiY41a.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Letter.html-nh_RLq9a.js" as="script"><link rel="prefetch" href="/roar-docs/assets/PA.html-CI3BVXG4.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DJwyIszD.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SRE.html-uLBM6Y9W.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SWR.html-CYp2HOd9.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BtoPNoSe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assignment-creation.html-Bgto7hlz.js" as="script"><link rel="prefetch" href="/roar-docs/assets/authentication.html-Cv2i8uXn.js" as="script"><link rel="prefetch" href="/roar-docs/assets/creating-users.html-CEFM00Yb.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-D0K7BEh1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/append-to-admin-claims.html-DTqeETb5.js" as="script"><link rel="prefetch" href="/roar-docs/assets/associate-assessment-uid.html-IhihbBDs.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-administrator-account.html-Db4mHuO1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-guest-docs-for-google-users.html-BNjptob_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-levante-users.html-ki_RLv2U.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-new-family.html-BAfpZ0IM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-student-account.html-Bba_Kobs.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-classes.html-CKn52R6O.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-custom-claims.html-BpzSpoaM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-districts.html-D6JJ0ogO.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-families.html-DVtrtdg1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-groups.html-DU5YLkRC.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-schools.html-6RsU-Kem.js" as="script"><link rel="prefetch" href="/roar-docs/assets/remove-from-admin-claims.html-BN9NtVr_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/save-survey-responses.html-BEK0aP_P.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-custom-claims.html-DrkxXk29.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-assignment.html-DmAJdGFL.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-external-data.html-IaY6jvt4.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user.html-BDXfEBYj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-created.html-C5t_nA_Y.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-deleted.html-DjDHs1zv.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-updated.html-DKGKuvoZ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-administration-update.html-DRW43fV7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-user-update.html-BqzJgkDe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-orgs.html-BJFIqaTt.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-user.html-qEWuHIyh.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DARH0cFz.js" as="script"><link rel="prefetch" href="/roar-docs/assets/organize-bucket-logs-by-date.html-DXAypVE7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-claims.html-CkpHiGWx.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest-trial.html-DqBs7Gk9.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest.html-Dhzh0EPC.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-run.html-DslZPG6Y.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-trial.html-Co7xWA8h.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-on-run-doc-update.html-sPGq235Z.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CV1SJm2e.js" as="script"><link rel="prefetch" href="/roar-docs/assets/404.html-CyiqgRE4.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/roar-docs/"><img class="logo" src="https://vuejs.press/images/hero.png" alt="ROAR Developer Documentation"><span class="site-name can-hide" aria-hidden="true">ROAR Developer Documentation</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/roar-docs/databases/" aria-label="Database Information"><!--[--><!--]--> Database Information <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/roar-docs/workflows/" aria-label="Workflows"><!--[--><!--]--> Workflows <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link route-link-active" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!--[--><!--]--> Cloud Functions <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/roar-docs/internationalization/" aria-label="Internationalization of ROAR Apps"><!--[--><!--]--> Internationalization of ROAR Apps <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/roar-docs/databases/" aria-label="Database Information"><!--[--><!--]--> Database Information <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/roar-docs/workflows/" aria-label="Workflows"><!--[--><!--]--> Workflows <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link route-link-active" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!--[--><!--]--> Cloud Functions <!--[--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/roar-docs/internationalization/" aria-label="Internationalization of ROAR Apps"><!--[--><!--]--> Internationalization of ROAR Apps <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a class="route-link sidebar-item sidebar-heading" href="/roar-docs/databases/" aria-label="Databases"><!--[--><!--]--> Databases <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/roar-docs/databases/" aria-label="Database Information"><!--[--><!--]--> Database Information <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/databases/admin.html" aria-label="gse-roar-admin"><!--[--><!--]--> gse-roar-admin <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/databases/assessment.html" aria-label="gse-roar-assessment"><!--[--><!--]--> gse-roar-assessment <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item sidebar-heading" href="/roar-docs/workflows/" aria-label="Workflows"><!--[--><!--]--> Workflows <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/roar-docs/workflows/" aria-label="Workflows"><!--[--><!--]--> Workflows <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/workflows/assignment-creation.html" aria-label="Creating an Assignment"><!--[--><!--]--> Creating an Assignment <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/workflows/authentication.html" aria-label="Authentication"><!--[--><!--]--> Authentication <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/workflows/creating-users.html" aria-label="Creating new Users"><!--[--><!--]--> Creating new Users <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item sidebar-heading" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!--[--><!--]--> Dashboard Components <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/roar-docs/dashboard-components/score-reports.html" aria-label="Organization Score Reports"><!--[--><!--]--> Organization Score Reports <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active sidebar-item sidebar-heading active" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!--[--><!--]--> Cloud Functions <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link route-link-active sidebar-item active" href="/roar-docs/cloud-functions/gse-roar-admin/" aria-label="gse-roar-admin"><!--[--><!--]--> gse-roar-admin <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link route-link-active sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/" aria-label="Admin Database"><!--[--><!--]--> Admin Database <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/append-to-admin-claims.html" aria-label="appendToAdminClaims()"><!--[--><!--]--> appendToAdminClaims() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/associate-assessment-uid.html" aria-label="associateassessmentuid()"><!--[--><!--]--> associateassessmentuid() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-administrator-account.html" aria-label="createAdministratorAccount()"><!--[--><!--]--> createAdministratorAccount() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-guest-docs-for-google-users.html" aria-label="createGuestDocsForGoogleUsers()"><!--[--><!--]--> createGuestDocsForGoogleUsers() <!--[--><!--]--></a><!----></li><li><a class="route-link route-link-active sidebar-item active" href="/roar-docs/cloud-functions/gse-roar-admin/create-levante-group.html" aria-label="createLevanteGroup()"><!--[--><!--]--> createLevanteGroup() <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/roar-docs/#function-name" aria-label="Function Name"><!--[--><!--]--> Function Name <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/#detailed-workflow" aria-label="Detailed Workflow"><!--[--><!--]--> Detailed Workflow <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/#error-handling-and-security-considerations" aria-label="Error Handling and Security Considerations"><!--[--><!--]--> Error Handling and Security Considerations <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/#deployment-and-maintenance" aria-label="Deployment and Maintenance"><!--[--><!--]--> Deployment and Maintenance <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-levante-users.html" aria-label="createLevanteUsers()"><!--[--><!--]--> createLevanteUsers() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-new-family.html" aria-label="createnewfamily()"><!--[--><!--]--> createnewfamily() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-student-account.html" aria-label="createstudentaccount()"><!--[--><!--]--> createstudentaccount() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-classes.html" aria-label="mirrorClasses()"><!--[--><!--]--> mirrorClasses() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-custom-claims.html" aria-label="mirrorCustomClaims"><!--[--><!--]--> mirrorCustomClaims <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-districts.html" aria-label="mirrorDistricts()"><!--[--><!--]--> mirrorDistricts() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-families.html" aria-label="mirrorFamilies()"><!--[--><!--]--> mirrorFamilies() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-groups.html" aria-label="mirrorGroups()"><!--[--><!--]--> mirrorGroups() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-schools.html" aria-label="mirrorSchools()"><!--[--><!--]--> mirrorSchools() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/remove-from-admin-claims.html" aria-label="removefromadminclaims()"><!--[--><!--]--> removefromadminclaims() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/save-survey-responses.html" aria-label="saveSurveyResponses()"><!--[--><!--]--> saveSurveyResponses() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/set-uid-custom-claims.html" aria-label="setuidcustomclaims()"><!--[--><!--]--> setuidcustomclaims() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user-assignment.html" aria-label="softDeleteUserAssignment()"><!--[--><!--]--> softDeleteUserAssignment() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user-external-data.html" aria-label="softDeleteUserExternalData"><!--[--><!--]--> softDeleteUserExternalData <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user.html" aria-label="softDeleteUser()"><!--[--><!--]--> softDeleteUser() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-created.html" aria-label="syncAssignmentCreated()"><!--[--><!--]--> syncAssignmentCreated() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-deleted.html" aria-label="syncAssignmentDeleted()"><!--[--><!--]--> syncAssignmentDeleted() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-updated.html" aria-label="syncAssignmentUpdated()"><!--[--><!--]--> syncAssignmentUpdated() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignments-on-administration-update.html" aria-label="syncAssignmentsOnAdministrationUpdate()"><!--[--><!--]--> syncAssignmentsOnAdministrationUpdate() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignments-on-user-update.html" aria-label="syncAssignmentsOnUserUpdate()"><!--[--><!--]--> syncAssignmentsOnUserUpdate() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-clever-orgs.html" aria-label="syncCleverOrgs()"><!--[--><!--]--> syncCleverOrgs() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-clever-user.html" aria-label="syncCleverUser()"><!--[--><!--]--> syncCleverUser() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/" aria-label="gse-roar-assessment"><!--[--><!--]--> gse-roar-assessment <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/" aria-label="Assessment Database"><!--[--><!--]--> Assessment Database <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/organize-bucket-logs-by-date.html" aria-label="organizeBucketLogsByDate()"><!--[--><!--]--> organizeBucketLogsByDate() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/set-uid-claims.html" aria-label="setuidclaims()"><!--[--><!--]--> setuidclaims() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-guest-trial.html" aria-label="softDeleteGuestTrial()"><!--[--><!--]--> softDeleteGuestTrial() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-guest.html" aria-label="softDeleteGuest()"><!--[--><!--]--> softDeleteGuest() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-user-run.html" aria-label="softDeleteUserRun()"><!--[--><!--]--> softDeleteUserRun() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-user-trial.html" aria-label="softDeleteUserTrial()"><!--[--><!--]--> softDeleteUserTrial() <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/sync-on-run-doc-update.html" aria-label="syncOnRunDocUpdate()"><!--[--><!--]--> syncOnRunDocUpdate() <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link sidebar-item sidebar-heading" href="/roar-docs/internationalization/" aria-label="Internationalization"><!--[--><!--]--> Internationalization <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/roar-docs/internationalization/Fluency.html" aria-label="ROAM Fluency"><!--[--><!--]--> ROAM Fluency <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/internationalization/Letter.html" aria-label="ROAR Letter"><!--[--><!--]--> ROAR Letter <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/internationalization/PA.html" aria-label="ROAR Phoneme"><!--[--><!--]--> ROAR Phoneme <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/internationalization/" aria-label="Internationalization of ROAR Apps"><!--[--><!--]--> Internationalization of ROAR Apps <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/internationalization/SRE.html" aria-label="ROAR Sentence"><!--[--><!--]--> ROAR Sentence <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/roar-docs/internationalization/SWR.html" aria-label="ROAR Word"><!--[--><!--]--> ROAR Word <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="createlevantegroup" tabindex="-1"><a class="header-anchor" href="#createlevantegroup"><span>createLevanteGroup()</span></a></h1><h4 id="createlevantegroup-creategroup" tabindex="-1"><a class="header-anchor" href="#createlevantegroup-creategroup"><span><a href="https://github.com/yeatmanlab/roar-firebase-functions/blob/e784650492722d24069aa9b0704d1873ea5dafee/gse-roar-admin/functions/src/index.ts#L1153" target="_blank" rel="noopener noreferrer">createLevanteGroup<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, <a href="https://github.com/yeatmanlab/roar-firebase-functions/blob/e784650492722d24069aa9b0704d1873ea5dafee/gse-roar-admin/functions/src/LEVANTE/create-group.ts#L8" target="_blank" rel="noopener noreferrer">createGroup<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></span></a></h4><h3 id="function-name" tabindex="-1"><a class="header-anchor" href="#function-name"><span>Function Name</span></a></h3><p><code>createLevanteGroup</code></p><h4 id="_1-createlevantegroup" tabindex="-1"><a class="header-anchor" href="#_1-createlevantegroup"><span>1. <strong>createLevanteGroup</strong></span></a></h4><p>This callable Cloud Function acts as an interface for client applications to request the creation of new groups. It verifies user authentication, extracts the necessary data from the request, and delegates the group creation task to the <code>createGroup</code> function.</p><h5 id="trigger" tabindex="-1"><a class="header-anchor" href="#trigger"><span>Trigger</span></a></h5><ul><li><strong>Type</strong>: Callable function</li><li><strong>Authentication</strong>: Requires users to be authenticated; accesses the user&#39;s UID through <code>request.auth.uid</code>.</li></ul><h5 id="parameters" tabindex="-1"><a class="header-anchor" href="#parameters"><span>Parameters</span></a></h5><ul><li><strong>request</strong>: The client request containing the data necessary for group creation: <ul><li><code>groupData</code>: Data for the new group (e.g., name, description).</li></ul></li></ul><h5 id="operation" tabindex="-1"><a class="header-anchor" href="#operation"><span>Operation</span></a></h5><ul><li>Extracts user ID and group data from the incoming request.</li><li>Calls the <code>createGroup</code> function with the extracted information.</li></ul><h4 id="_2-creategroup" tabindex="-1"><a class="header-anchor" href="#_2-creategroup"><span>2. <strong>createGroup</strong></span></a></h4><p>A backend utility function that performs the actual creation of the group document in Firestore and manages related security operations such as updating custom claims and Firestore documents to reflect new group memberships.</p><h5 id="parameters-1" tabindex="-1"><a class="header-anchor" href="#parameters-1"><span>Parameters</span></a></h5><ul><li><strong>requestingUid</strong>: The UID of the user requesting the creation of the group.</li><li><strong>groupData</strong>: The data for the new group.</li></ul><h5 id="operation-1" tabindex="-1"><a class="header-anchor" href="#operation-1"><span>Operation</span></a></h5><ul><li>Verifies that the user has administrative privileges.</li><li>Creates a new document in the <code>groups</code> collection with the provided <code>groupData</code>.</li><li>Updates Firebase Authentication custom claims and the Firestore <code>userClaims</code> document to reflect the new group membership.</li></ul><h3 id="detailed-workflow" tabindex="-1"><a class="header-anchor" href="#detailed-workflow"><span>Detailed Workflow</span></a></h3><ol><li><p><strong>User Authentication and Authorization</strong>:</p><ul><li>Verifies that the user making the request has appropriate administrative privileges (<code>super_admin</code> or <code>admin</code>).</li><li>Retrieves and checks existing custom claims to confirm the user&#39;s rights to create a group.</li></ul></li><li><p><strong>Group Document Creation</strong>:</p><ul><li>Initializes a new document in the <code>groups</code> collection.</li><li>Sets the group data into this new document, handling errors that might occur during this process.</li></ul></li><li><p><strong>Custom Claims and Firestore Document Updates</strong>:</p><ul><li>Retrieves the user&#39;s current authentication claims.</li><li>Adds the new group&#39;s ID to the user&#39;s list of administered groups in both their Firebase Authentication custom claims and their Firestore <code>userClaims</code> document.</li><li>Ensures that these updates are atomically committed to maintain data consistency.</li></ul></li></ol><h3 id="error-handling-and-security-considerations" tabindex="-1"><a class="header-anchor" href="#error-handling-and-security-considerations"><span>Error Handling and Security Considerations</span></a></h3><ul><li><p><strong>Error Handling</strong>:</p><ul><li>Catches and logs errors at each critical operation, such as retrieving user claims, creating group documents, and updating claims.</li><li>Provides detailed error messages to help diagnose issues, particularly focusing on permission errors and database operation failures.</li></ul></li><li><p><strong>Security</strong>:</p><ul><li>Ensures all operations are performed under strict authentication and authorization checks to prevent unauthorized access or modifications.</li><li>Uses secure methods to update Firestore and Firebase Authentication, protecting against potential data breaches or unauthorized data alterations.</li></ul></li></ul><h3 id="deployment-and-maintenance" tabindex="-1"><a class="header-anchor" href="#deployment-and-maintenance"><span>Deployment and Maintenance</span></a></h3><ul><li><p><strong>Deployment</strong>: These functions should be deployed using the Firebase CLI or through the Firebase Console, ensuring they are configured with the necessary permissions and resources to handle expected traffic and data sizes.</p></li><li><p><strong>Maintenance</strong>: Regularly monitor these functions for performance issues and errors. Update the security policies and logic as necessary, especially in response to changes in organizational roles or user privileges.</p></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: ksmontville@gmail.com">Kyle</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav" aria-label="page navigation"><p class="inner"><span class="prev"><a class="route-link" href="/roar-docs/cloud-functions/gse-roar-admin/create-guest-docs-for-google-users.html" aria-label="createGuestDocsForGoogleUsers()"><!--[--><!--]--> createGuestDocsForGoogleUsers() <!--[--><!--]--></a></span><span class="next"><a class="route-link" href="/roar-docs/cloud-functions/gse-roar-admin/create-levante-users.html" aria-label="createLevanteUsers()"><!--[--><!--]--> createLevanteUsers() <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/roar-docs/assets/app-B1l0_fsE.js" defer></script>
  </body>
</html>
