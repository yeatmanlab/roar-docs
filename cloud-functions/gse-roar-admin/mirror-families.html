<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.classList.toggle('dark', true)
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" type="image/png" href="https://vuejs.press/images/hero.png"><title>mirrorFamilies() | ROAR Developer Documentation</title><meta name="description" content="Documentation for developers working on the ROAR - Rapid Online Assessment of Reading Project for Yeatmanlab at Stanford University.">
    <link rel="preload" href="/roar-docs/assets/style-BhYpfXGe.css" as="style"><link rel="stylesheet" href="/roar-docs/assets/style-BhYpfXGe.css">
    <link rel="modulepreload" href="/roar-docs/assets/app-cdAKpQh6.js"><link rel="modulepreload" href="/roar-docs/assets/mirror-families.html-BrRfuOL5.js">
    <link rel="prefetch" href="/roar-docs/assets/index.html-Js48n5og.js" as="script"><link rel="prefetch" href="/roar-docs/assets/auth.html-3wIFTN1O.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html--jmfnYD3.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-rlwDrZyF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/audio-optimization.html-CPY7vHzw.js" as="script"><link rel="prefetch" href="/roar-docs/assets/image-optimization.html-hE_MXAIr.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DjdVgLGj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/score-reports.html-CUwtE_Ie.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CeD_CJ7s.js" as="script"><link rel="prefetch" href="/roar-docs/assets/admin.html-BW1wai0p.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assessment.html-D3gKClcp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DguBTmCs.js" as="script"><link rel="prefetch" href="/roar-docs/assets/dashboard-integration.html-DPwippTd.js" as="script"><link rel="prefetch" href="/roar-docs/assets/monitoring-and-testing.html-B3p7PY19.js" as="script"><link rel="prefetch" href="/roar-docs/assets/preparing-the-app.html-BVbzXMp9.js" as="script"><link rel="prefetch" href="/roar-docs/assets/publishing-to-npm.html-CFR8_45R.js" as="script"><link rel="prefetch" href="/roar-docs/assets/secrets-overview.html-BET0Mh-X.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Fluency.html-CzUIunfx.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Letter.html-DESS4I1a.js" as="script"><link rel="prefetch" href="/roar-docs/assets/PA.html-nPwS4DBT.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-C_WbaluI.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SRE.html-CZH4evw0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SWR.html-CmB35XK6.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-n-U2Wqb3.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CcvhZdAW.js" as="script"><link rel="prefetch" href="/roar-docs/assets/data-validator-trigger.html-B3vp4uaT.js" as="script"><link rel="prefetch" href="/roar-docs/assets/data-validator.html-Bp8xYhli.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DvjjX584.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assignment-creation.html-BjJVMzcy.js" as="script"><link rel="prefetch" href="/roar-docs/assets/authentication.html-D4u6XZ5W.js" as="script"><link rel="prefetch" href="/roar-docs/assets/creating-users.html-CVYcsoQl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/roster-changes.html-BH-wge7O.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BmNmz8fp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/append-to-admin-claims.html-BOh-FbWn.js" as="script"><link rel="prefetch" href="/roar-docs/assets/associate-assessment-uid.html-CGHmdgW1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-administrator-account.html-DmCasug3.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-guest-docs-for-google-users.html-CkQg94wc.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-levante-group.html-C6azjO-S.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-levante-users.html-BN9e6SDp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-new-family.html-BD_Dawaw.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-student-account.html-DNxuqb0q.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-classes.html-VQF6gnLV.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-custom-claims.html-Kzo0kZxx.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-districts.html-CIOjwbzV.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-groups.html-DRucSzAQ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-schools.html-vhDpQCI-.js" as="script"><link rel="prefetch" href="/roar-docs/assets/remove-from-admin-claims.html-Cd2usgZI.js" as="script"><link rel="prefetch" href="/roar-docs/assets/save-survey-responses.html-DD1wOaJe.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-custom-claims.html-i3wa3pIg.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-assignment.html-NeRAB-Df.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-external-data.html-CotlNir1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user.html-DUfBtN7n.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-created.html-DnaiEVHg.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-deleted.html-JqMg988s.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-updated.html-BEA3Saej.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-administration-update.html-M5obTdb_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-user-update.html-CGehSjYv.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-orgs.html--OqNYZGQ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-user.html-mzJFzBDV.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DAWm5n-d.js" as="script"><link rel="prefetch" href="/roar-docs/assets/organize-bucket-logs-by-date.html-CU0tCXec.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-claims.html-BsCwYtS3.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest-trial.html-DGy0zU5D.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest.html-F4Jfd7u_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-run.html-CsWW4C63.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-trial.html-DFSjt1Fl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-on-run-doc-update.html-CXDpMUEg.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Dj1TiOZE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/404.html-DvEJ0YAh.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mermaid.core-D9P6_C8Z.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/roar-docs/"><img class="vp-site-logo" src="https://vuejs.press/images/hero.png" alt="ROAR Developer Documentation"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">ROAR Developer Documentation</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/databases/" aria-label="Databases"><!---->Databases<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/application/" aria-label="Application"><!---->Application<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/logging-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/databases/" aria-label="Databases"><!---->Databases<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/application/" aria-label="Application"><!---->Application<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/logging-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/databases/" aria-label="Databases"><!---->Databases<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/databases/" aria-label="Database Information"><!---->Database Information<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/databases/admin.html" aria-label="gse-roar-admin"><!---->gse-roar-admin<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/databases/assessment.html" aria-label="gse-roar-assessment"><!---->gse-roar-assessment<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/assignment-creation.html" aria-label="Creating an Assignment"><!---->Creating an Assignment<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/authentication.html" aria-label="Authentication"><!---->Authentication<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/creating-users.html" aria-label="Creating new Users"><!---->Creating new Users<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/roster-changes.html" aria-label="User Roster Changes"><!---->User Roster Changes<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Application <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/application/auth.html" aria-label="Auth"><!---->Auth<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/dashboard-components/score-reports.html" aria-label="Organization Score Reports"><!---->Organization Score Reports<!----></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/roar-docs/cloud-functions/gse-roar-admin/" aria-label="gse-roar-admin"><!---->gse-roar-admin<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/" aria-label="Admin Database"><!---->Admin Database<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/append-to-admin-claims.html" aria-label="appendToAdminClaims()"><!---->appendToAdminClaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/associate-assessment-uid.html" aria-label="associateassessmentuid()"><!---->associateassessmentuid()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-administrator-account.html" aria-label="createAdministratorAccount()"><!---->createAdministratorAccount()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-guest-docs-for-google-users.html" aria-label="createGuestDocsForGoogleUsers()"><!---->createGuestDocsForGoogleUsers()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-levante-group.html" aria-label="createLevanteGroup()"><!---->createLevanteGroup()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-levante-users.html" aria-label="createLevanteUsers()"><!---->createLevanteUsers()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-new-family.html" aria-label="createnewfamily()"><!---->createnewfamily()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-student-account.html" aria-label="createstudentaccount()"><!---->createstudentaccount()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-classes.html" aria-label="mirrorClasses()"><!---->mirrorClasses()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-custom-claims.html" aria-label="mirrorCustomClaims"><!---->mirrorCustomClaims<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-districts.html" aria-label="mirrorDistricts()"><!---->mirrorDistricts()<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-families.html" aria-label="mirrorFamilies()"><!---->mirrorFamilies()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-groups.html" aria-label="mirrorGroups()"><!---->mirrorGroups()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-schools.html" aria-label="mirrorSchools()"><!---->mirrorSchools()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/remove-from-admin-claims.html" aria-label="removefromadminclaims()"><!---->removefromadminclaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/save-survey-responses.html" aria-label="saveSurveyResponses()"><!---->saveSurveyResponses()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/set-uid-custom-claims.html" aria-label="setuidcustomclaims()"><!---->setuidcustomclaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user-assignment.html" aria-label="softDeleteUserAssignment()"><!---->softDeleteUserAssignment()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user-external-data.html" aria-label="softDeleteUserExternalData"><!---->softDeleteUserExternalData<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user.html" aria-label="softDeleteUser()"><!---->softDeleteUser()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-created.html" aria-label="syncAssignmentCreated()"><!---->syncAssignmentCreated()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-deleted.html" aria-label="syncAssignmentDeleted()"><!---->syncAssignmentDeleted()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-updated.html" aria-label="syncAssignmentUpdated()"><!---->syncAssignmentUpdated()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignments-on-administration-update.html" aria-label="syncAssignmentsOnAdministrationUpdate()"><!---->syncAssignmentsOnAdministrationUpdate()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignments-on-user-update.html" aria-label="syncAssignmentsOnUserUpdate()"><!---->syncAssignmentsOnUserUpdate()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-clever-orgs.html" aria-label="syncCleverOrgs()"><!---->syncCleverOrgs()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-clever-user.html" aria-label="syncCleverUser()"><!---->syncCleverUser()<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/" aria-label="gse-roar-assessment"><!---->gse-roar-assessment<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/" aria-label="Assessment Database"><!---->Assessment Database<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/organize-bucket-logs-by-date.html" aria-label="organizeBucketLogsByDate()"><!---->organizeBucketLogsByDate()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/set-uid-claims.html" aria-label="setuidclaims()"><!---->setuidclaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-guest-trial.html" aria-label="softDeleteGuestTrial()"><!---->softDeleteGuestTrial()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-guest.html" aria-label="softDeleteGuest()"><!---->softDeleteGuest()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-user-run.html" aria-label="softDeleteUserRun()"><!---->softDeleteUserRun()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-user-trial.html" aria-label="softDeleteUserTrial()"><!---->softDeleteUserTrial()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/sync-on-run-doc-update.html" aria-label="syncOnRunDocUpdate()"><!---->syncOnRunDocUpdate()<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/Fluency.html" aria-label="ROAM Fluency"><!---->ROAM Fluency<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/Letter.html" aria-label="ROAR Letter"><!---->ROAR Letter<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/PA.html" aria-label="ROAR Phoneme"><!---->ROAR Phoneme<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/" aria-label="Internationalization of ROAR Apps"><!---->Internationalization of ROAR Apps<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/SRE.html" aria-label="ROAR Sentence"><!---->ROAR Sentence<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/SWR.html" aria-label="ROAR Word"><!---->ROAR Word<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/" aria-label="Integrating Roar Apps into the Dashboard"><!---->Integrating Roar Apps into the Dashboard<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/dashboard-integration.html" aria-label="Dashboard Integration"><!---->Dashboard Integration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/monitoring-and-testing.html" aria-label="Monitoring and Testing"><!---->Monitoring and Testing<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/preparing-the-app.html" aria-label="Preparing the App for Packaging and Deployment"><!---->Preparing the App for Packaging and Deployment<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/publishing-to-npm.html" aria-label="Packaging and Publishing to npm"><!---->Packaging and Publishing to npm<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/secrets-overview.html" aria-label="Secrets in the GitHub Repository"><!---->Secrets in the GitHub Repository<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/assets-optimization/" aria-label="Assets Optimization"><!---->Assets Optimization<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/assets-optimization/audio-optimization.html" aria-label="Audio Optimization Guide"><!---->Audio Optimization Guide<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/assets-optimization/image-optimization.html" aria-label="Image Optimization Guide"><!---->Image Optimization Guide<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/roar-redivis/data-validator-trigger.html" aria-label="ROAR Data Validator Trigger"><!---->ROAR Data Validator Trigger<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/roar-redivis/data-validator.html" aria-label="ROAR Data Validator"><!---->ROAR Data Validator<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/logging-and-querying-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/logging-and-querying/" aria-label="ROAR Logging"><!---->ROAR Logging<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="mirrorfamilies" tabindex="-1"><a class="header-anchor" href="#mirrorfamilies"><span>mirrorFamilies()</span></a></h1><h4 id="mirrorfamilies-generatemirrordocfunction" tabindex="-1"><a class="header-anchor" href="#mirrorfamilies-generatemirrordocfunction"><span><a href="https://github.com/yeatmanlab/roar-firebase-functions/blob/e784650492722d24069aa9b0704d1873ea5dafee/gse-roar-admin/functions/src/index.ts#L1130C5-L1130C9" target="_blank" rel="noopener noreferrer">mirrorFamilies</a>, <a href="https://github.com/yeatmanlab/roar-firebase-functions/blob/e784650492722d24069aa9b0704d1873ea5dafee/gse-roar-admin/functions/src/index.ts#L1079" target="_blank" rel="noopener noreferrer">generateMirrorDocFunction</a></span></a></h4><h3 id="function-name" tabindex="-1"><a class="header-anchor" href="#function-name"><span>Function Name</span></a></h3><p><code>mirrorFamilies</code></p><h3 id="trigger" tabindex="-1"><a class="header-anchor" href="#trigger"><span>Trigger</span></a></h3><p>The <code>mirrorFamilies</code> function is triggered by document write events on the path <code>families/{documentId}</code>, which includes creations, updates, or deletions of documents within the <code>families</code> collection.</p><h3 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration"><span>Configuration</span></a></h3><ul><li><strong>Document Path</strong>: <code>families/{documentId}</code><ul><li>Specifies the Firestore path that triggers the function. It watches for any changes to documents within the <code>families</code> collection.</li></ul></li><li><strong>Timeout</strong>: 180 seconds <ul><li>This function has an extended execution timeout to accommodate potentially complex or large data operations involved in mirroring documents.</li></ul></li></ul><h3 id="operation" tabindex="-1"><a class="header-anchor" href="#operation"><span>Operation</span></a></h3><p>The function is instantiated through the <code>generateMirrorDocFunction</code>, which is tailored specifically for the <code>families</code> collection. It operates under the following mechanism:</p><ol><li><strong>Event Listening</strong>: Captures write events to documents in the <code>families</code> collection.</li><li><strong>Data Handling</strong>: <ul><li><strong>Deletion</strong>: If a document is deleted (<code>snapshot.after.data()</code> is null), the corresponding document in the mirrored collection is also deleted. This maintains consistency and integrity across databases.</li><li><strong>Creation/Update</strong>: If a document is added or modified, the function retrieves the new document data and replicates it in the specified mirrored collection using the same document ID.</li></ul></li></ol><h3 id="helper-function-generatemirrordocfunction" tabindex="-1"><a class="header-anchor" href="#helper-function-generatemirrordocfunction"><span>Helper Function: generateMirrorDocFunction</span></a></h3><ul><li><strong>Purpose</strong>: Creates a Firestore trigger function configured to handle document write events and mirror these changes to a specified collection.</li><li><strong>Details</strong>: For the <code>mirrorFamilies</code> function, it ensures that any modifications in the Firestore <code>families</code> collection are immediately and accurately replicated in another designated collection.</li></ul><h3 id="example-use-cases" tabindex="-1"><a class="header-anchor" href="#example-use-cases"><span>Example Use Cases</span></a></h3><ul><li><strong>Document Creation</strong>: When a new family record is added, perhaps representing a new participant group in a study or service, its details are mirrored to ensure all related systems remain up-to-date.</li><li><strong>Document Update</strong>: Updates to family details, such as changes in family composition or contact information, are synchronized with the mirrored collection.</li><li><strong>Document Deletion</strong>: When a family record is removed, it is also deleted from the mirrored collection to prevent outdated or inconsistent data across systems.</li></ul><h3 id="error-handling-and-security" tabindex="-1"><a class="header-anchor" href="#error-handling-and-security"><span>Error Handling and Security</span></a></h3><ul><li><strong>Error Handling</strong>: Implements robust strategies to manage possible failures during Firestore operations, such as handling null data (deletions) and errors during write operations.</li><li><strong>Security Considerations</strong>: <ul><li><strong>Permissions</strong>: The function must have appropriate Firestore permissions to perform read and write operations on the necessary collections.</li><li><strong>Data Integrity</strong>: Includes checks to verify the integrity and correctness of the data being mirrored, safeguarding against data corruption.</li></ul></li></ul><h3 id="deployment-and-maintenance" tabindex="-1"><a class="header-anchor" href="#deployment-and-maintenance"><span>Deployment and Maintenance</span></a></h3><ul><li><strong>Deployment</strong>: This function should be deployed using Firebase CLI tools or through the Firebase Console. Ensure that all configurations, such as environment variables and Firebase project settings, are accurately set for operational success.</li><li><strong>Maintenance</strong>: Regular monitoring of the function’s performance and error rates is recommended. Logs should be examined to ensure that data handling errors are addressed promptly, and updates to the function logic or Firestore rules should be applied as necessary.</li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: ksmontville@gmail.com">Kyle</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-districts.html" aria-label="mirrorDistricts()"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>mirrorDistricts()</span></div></a><a class="route-link auto-link next" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-groups.html" aria-label="mirrorGroups()"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>mirrorGroups()</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/roar-docs/assets/app-cdAKpQh6.js" defer></script>
  </body>
</html>
