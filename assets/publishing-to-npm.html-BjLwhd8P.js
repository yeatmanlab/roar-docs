import{_ as n,c as t,f as a,o as i}from"./app-aq6lfCcc.js";const o={};function s(l,e){return i(),t("div",null,e[0]||(e[0]=[a(`<h1 id="packaging-and-publishing-to-npm" tabindex="-1"><a class="header-anchor" href="#packaging-and-publishing-to-npm"><span>Packaging and Publishing to npm</span></a></h1><p>Once you have created a new Roar app, have set up the necessary GitHUb automations, Sentry, and Cypress integrations you are ready to publish it to npm.</p><h2 id="generating-an-npm-token" tabindex="-1"><a class="header-anchor" href="#generating-an-npm-token"><span>Generating an npm token</span></a></h2><p>Each app needs a npm token which allows automatic publishing to npm. To generate a new token, follow these steps:</p><ol><li>Navigate to your user profile on <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npmjs.com</a></li><li>Click your avatar in the top right corner and select &quot;Access Tokens&quot;</li><li>Click &quot;Generate New Token&quot;</li><li>Select &quot;Classic Token&quot;</li><li>Name the token appropriately, e.g. <code>ROAR-SWR GitHub Actions Token</code> and selected <code>automation</code> for the scope</li><li>Click &quot;Generate Token&quot;</li><li>Copy the token and store it in a secure location</li><li>Add the token to the GitHub repository secrets as <code>NPM_TOKEN</code></li></ol><h2 id="publishing-to-npm" tabindex="-1"><a class="header-anchor" href="#publishing-to-npm"><span>Publishing to npm</span></a></h2><h3 id="publishing-to-npm-for-the-first-time" tabindex="-1"><a class="header-anchor" href="#publishing-to-npm-for-the-first-time"><span>Publishing to npm for the first time</span></a></h3><ol><li>In a terminal window, navigate to the root directory of the app</li><li>Run the following command to publish the app to npm:<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> publish <span class="token parameter variable">--access</span> public</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>Verify that the app is published by navigating to the app&#39;s npm page, e.g. <a href="https://www.npmjs.com/package/@bdelab/roar-swr" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/@bdelab/roar-swr</a></li></ol><p>This command will publish the app to npm and make it available for installation in other projects.</p><h2 id="automated-npm-publishing" tabindex="-1"><a class="header-anchor" href="#automated-npm-publishing"><span>Automated npm publishing</span></a></h2><p>If you have set up GitHub actions for the app using the scripts outlined in the previous pages, the app will be automatically published to npm when a new release is created. The GitHub action workflow file will contain the necessary steps to publish the app to npm. You can also trigger a manual publish in the following way:</p><ol><li>In a terminal window, navigate to the root directory of the app</li><li>Run the following command to publish the app to npm:<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> version <span class="token punctuation">[</span>major<span class="token operator">|</span>minor<span class="token operator">|</span>patch<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>Where <code>[major|minor|patch]</code> is the type of version bump you want to make. This command will bump the version number in the <code>package.json</code> file and create a new release in the GitHub repository. The GitHub action workflow will then automatically publish the app to npm. This action triggers a new release on GitHub, on Sentry, and it will also push any changes from the staging branch into production.</p>`,13)]))}const r=n(o,[["render",s],["__file","publishing-to-npm.html.vue"]]),h=JSON.parse('{"path":"/developer/integrating-new-apps/publishing-to-npm.html","title":"Packaging and Publishing to npm","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Generating an npm token","slug":"generating-an-npm-token","link":"#generating-an-npm-token","children":[]},{"level":2,"title":"Publishing to npm","slug":"publishing-to-npm","link":"#publishing-to-npm","children":[{"level":3,"title":"Publishing to npm for the first time","slug":"publishing-to-npm-for-the-first-time","link":"#publishing-to-npm-for-the-first-time","children":[]}]},{"level":2,"title":"Automated npm publishing","slug":"automated-npm-publishing","link":"#automated-npm-publishing","children":[]}],"git":{"updatedTime":1743546779000,"contributors":[{"name":"Elijah Kelly","username":"Elijah Kelly","email":"kellyel@stanford.edu","commits":1,"url":"https://github.com/Elijah Kelly"},{"name":"Kyle","username":"Kyle","email":"ksmontville@gmail.com","commits":1,"url":"https://github.com/Kyle"}]},"filePathRelative":"developer/integrating-new-apps/publishing-to-npm.md"}');export{r as comp,h as data};
