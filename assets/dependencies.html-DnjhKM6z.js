import{_ as e,c as n,d as a,o as t}from"./app-D5uAIr3F.js";const i={};function l(p,s){return t(),n("div",null,s[0]||(s[0]=[a(`<h1 id="setup-and-dependencies" tabindex="-1"><a class="header-anchor" href="#setup-and-dependencies"><span>Setup and Dependencies</span></a></h1><p>First, install the necessary dependencies and modify the necessary files to run the Firebase emulators.</p><h2 id="dependencies" tabindex="-1"><a class="header-anchor" href="#dependencies"><span>Dependencies</span></a></h2><p>Install the following packages to run the Firebase emulators:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> buffer cypress-fs dotenv-webpack events firebase-tools http-server kill-port path-browserify stream-browserify util wait-on --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="package-json-configuration" tabindex="-1"><a class="header-anchor" href="#package-json-configuration"><span>package.json Configuration</span></a></h2><p>Add the following to the <code>scripts</code> object in the <code>package.json</code> file:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;emulate:start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx firebase emulators:start&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;emulate:import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx firebase emulators:start --project=gse-roar-assessment-dev --import=./emulator-exports --export-on-exit=./emulator-exports&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;emulate:stop&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx kill-port 4000 5000 8080 9099 9000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;emulate:serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx webpack serve --open --mode development --env dbmode=emulator&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;emulate:serve-ci&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx http-server dist -p 8000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;emulate:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx webpack --mode production --env dbmode=emulator&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;preemulate:import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mkdir -p firebase &amp;&amp; curl -o firebase/firestore.rules https://raw.githubusercontent.com/yeatmanlab/roar-dashboard/main/firebase/assessment/firestore.rules&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;preemulate:start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mkdir -p firebase &amp;&amp; curl -o firebase/firestore.rules https://raw.githubusercontent.com/yeatmanlab/roar-dashboard/main/firebase/assessment/firestore.rules&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;preemulate:serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx kill-port 8000&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webpack-configuration" tabindex="-1"><a class="header-anchor" href="#webpack-configuration"><span>Webpack Configuration</span></a></h2><p>Remove the following from the <code>webpack.config.js</code> file:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> dotenv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;dotenv&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Add the following to the top level of the <code>webpack.config.js</code> file:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> Dotenv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;dotenv-webpack&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Add the following to the <code>envDependentConfig.plugins</code> array in the <code>webpack.config.js</code> file:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">new</span> <span class="token class-name">Dotenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;./.env&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Add the following key-value pairs to the <code>resolve.fallback</code> object in <code>webpack.config.js</code>:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">resolve: </span>
<span class="line">  fallback: {</span>
<span class="line">    path: require.resolve(&#39;path-browserify&#39;),</span>
<span class="line">    util: require.resolve(&#39;util/&#39;),</span>
<span class="line">    buffer: require.resolve(&#39;buffer/&#39;),</span>
<span class="line">    stream: require.resolve(&#39;stream-browserify&#39;),</span>
<span class="line">    events: require.resolve(&#39;events/&#39;)</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Add or change the constant <code>roarDB</code> in <code>module.exports</code> to the following:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token keyword">const</span> roarDB <span class="token operator">=</span> env<span class="token punctuation">.</span>dbmode <span class="token operator">??</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="gitignore" tabindex="-1"><a class="header-anchor" href="#gitignore"><span>.gitignore</span></a></h3><p>Add the following to the <code>.gitignore</code> file:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"># Environment Variables</span>
<span class="line">.env</span>
<span class="line">.env.test</span>
<span class="line"></span>
<span class="line"># Emulator Suite</span>
<span class="line">firebase-debug.log</span>
<span class="line">firebase-debug.*.log</span>
<span class="line">firestore-debug.log</span>
<span class="line">firestore-debug.*.log</span>
<span class="line">ui-debug.log</span>
<span class="line">ui-debug.*.log</span>
<span class="line">firebase/</span>
<span class="line">.firebase/</span>
<span class="line">emulator-exports/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,22)]))}const r=e(i,[["render",l],["__file","dependencies.html.vue"]]),c=JSON.parse('{"path":"/developer/emulation/emulator-configuration-guide/dependencies.html","title":"Setup and Dependencies","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Dependencies","slug":"dependencies","link":"#dependencies","children":[]},{"level":2,"title":"package.json Configuration","slug":"package-json-configuration","link":"#package-json-configuration","children":[]},{"level":2,"title":"Webpack Configuration","slug":"webpack-configuration","link":"#webpack-configuration","children":[{"level":3,"title":".gitignore","slug":"gitignore","link":"#gitignore","children":[]}]}],"git":{"updatedTime":1743546779000,"contributors":[{"name":"Elijah Kelly","username":"Elijah Kelly","email":"kellyel@stanford.edu","commits":1,"url":"https://github.com/Elijah Kelly"},{"name":"Kyle","username":"Kyle","email":"ksmontville@gmail.com","commits":4,"url":"https://github.com/Kyle"}]},"filePathRelative":"developer/emulation/emulator-configuration-guide/dependencies.md"}');export{r as comp,c as data};
