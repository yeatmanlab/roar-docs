import{_ as s,c as a,d as e,o as p}from"./app-BKP6CJ_6.js";const t={};function l(i,n){return p(),a("div",null,n[0]||(n[0]=[e(`<h1 id="firebase-deploy-preview-yml" tabindex="-1"><a class="header-anchor" href="#firebase-deploy-preview-yml"><span>firebase-deploy-preview.yml</span></a></h1><p>This GitHub action deploys the app to Firebase Hosting for previewing the app in a staging environment. The action is triggered when a pull request is opened, reopened, or synchronized. The action uses the <code>FirebaseExtended/action-hosting-deploy</code> action to deploy the app to Firebase Hosting.</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">name</span><span class="token punctuation">:</span> Firebase Deploy to Staging</span>
<span class="line"><span class="token key atrule">on</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">pull_request</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">types</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>opened<span class="token punctuation">,</span> reopened<span class="token punctuation">,</span> synchronize<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">concurrency</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">group</span><span class="token punctuation">:</span> ci<span class="token punctuation">-</span>preview<span class="token punctuation">-</span>tests<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> github.ref <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span><span class="token number">1</span></span>
<span class="line">  <span class="token key atrule">cancel-in-progress</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">jobs</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">build_and_preview</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">if</span><span class="token punctuation">:</span> <span class="token string">&#39;\${{ github.event.pull_request.head.repo.full_name == github.repository }}&#39;</span></span>
<span class="line">    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest</span>
<span class="line">    <span class="token key atrule">steps</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v4</span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v4</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&#39;lts/*&#39;</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm ci <span class="token important">&amp;&amp;</span> npm run build<span class="token punctuation">:</span>dev</span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to Firebase Hosting Channel</span>
<span class="line">        <span class="token key atrule">id</span><span class="token punctuation">:</span> firebase<span class="token punctuation">-</span>deploy</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> FirebaseExtended/action<span class="token punctuation">-</span>hosting<span class="token punctuation">-</span>deploy@v0</span>
<span class="line">        <span class="token key atrule">with</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">repoToken</span><span class="token punctuation">:</span> <span class="token string">&#39;\${{ secrets.GITHUB_TOKEN }}&#39;</span></span>
<span class="line">          <span class="token key atrule">firebaseServiceAccount</span><span class="token punctuation">:</span> <span class="token string">&#39;\${{ secrets.FIREBASE_SERVICE_ACCOUNT_GSE_ROAR_ASSESSMENT }}&#39;</span></span>
<span class="line">          <span class="token key atrule">projectId</span><span class="token punctuation">:</span> gse<span class="token punctuation">-</span>roar<span class="token punctuation">-</span>assessment</span>
<span class="line">          <span class="token key atrule">target</span><span class="token punctuation">:</span> staging</span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo $<span class="token punctuation">{</span><span class="token punctuation">{</span> fromJson(steps.firebase<span class="token punctuation">-</span>deploy.outputs.urls)<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token key atrule">outputs</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">deployUrl</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> fromJson(steps.firebase<span class="token punctuation">-</span>deploy.outputs.urls)<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)]))}const o=s(t,[["render",l],["__file","firebase-deploy-preview.html.vue"]]),u=JSON.parse('{"path":"/developer/github-actions/apps/firebase-deploy-preview.html","title":"firebase-deploy-preview.yml","lang":"en-US","frontmatter":{},"headers":[],"git":{"updatedTime":1743546779000,"contributors":[{"name":"Elijah Kelly","username":"Elijah Kelly","email":"kellyel@stanford.edu","commits":1,"url":"https://github.com/Elijah Kelly"},{"name":"Kyle","username":"Kyle","email":"ksmontville@gmail.com","commits":1,"url":"https://github.com/Kyle"}]},"filePathRelative":"developer/github-actions/apps/firebase-deploy-preview.md"}');export{o as comp,u as data};
