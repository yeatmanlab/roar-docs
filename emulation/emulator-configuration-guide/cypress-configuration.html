<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" type="image/png" href="/roar-docs/assets/favicon.png"><title>Cypress Configuration | ROAR Developer Documentation</title><meta name="description" content="Documentation for developers working on the ROAR - Rapid Online Assessment of Reading Project for Yeatmanlab at Stanford University.">
    <link rel="preload" href="/roar-docs/assets/style-DcFfO8cN.css" as="style"><link rel="stylesheet" href="/roar-docs/assets/style-DcFfO8cN.css">
    <link rel="modulepreload" href="/roar-docs/assets/app-BMq2XO4d.js"><link rel="modulepreload" href="/roar-docs/assets/cypress-configuration.html-C30aU_Hb.js">
    <link rel="prefetch" href="/roar-docs/assets/index.html-Coo-P0uP.js" as="script"><link rel="prefetch" href="/roar-docs/assets/auth.html-DUg0Z1lJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-ppcvCNuP.js" as="script"><link rel="prefetch" href="/roar-docs/assets/audio-optimization.html-BuFo1QO8.js" as="script"><link rel="prefetch" href="/roar-docs/assets/image-optimization.html-Ckt8JVKj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BMNxoz4a.js" as="script"><link rel="prefetch" href="/roar-docs/assets/classes.html-mPN5TPbY.js" as="script"><link rel="prefetch" href="/roar-docs/assets/districts.html-Dt_mR-yV.js" as="script"><link rel="prefetch" href="/roar-docs/assets/families.html-CzUofgYF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/groups.html-DJjjTVQG.js" as="script"><link rel="prefetch" href="/roar-docs/assets/schools.html-BNVIkFxY.js" as="script"><link rel="prefetch" href="/roar-docs/assets/user_runs.html-Dl_EaViG.js" as="script"><link rel="prefetch" href="/roar-docs/assets/user_trials.html-B5PdItVN.js" as="script"><link rel="prefetch" href="/roar-docs/assets/users.html-BkVFcKKC.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BT5bKJqM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-8u5hcII1.js" as="script"><link rel="prefetch" href="/roar-docs/assets/score-reports.html-CHdskC6B.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-0pDjcENa.js" as="script"><link rel="prefetch" href="/roar-docs/assets/admin.html-CrePjWZC.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assessment.html-B4m1gFda.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-D1LnK7dJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-D-DpMr4q.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-DPZNq1R0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BuLgb65Z.js" as="script"><link rel="prefetch" href="/roar-docs/assets/dashboard-integration.html-D7jtD6E9.js" as="script"><link rel="prefetch" href="/roar-docs/assets/monitoring-and-testing.html-CsNAlK14.js" as="script"><link rel="prefetch" href="/roar-docs/assets/preparing-the-app.html-Bxr8LPP-.js" as="script"><link rel="prefetch" href="/roar-docs/assets/publishing-to-npm.html-CY5W615G.js" as="script"><link rel="prefetch" href="/roar-docs/assets/secrets-overview.html-C0bQRldj.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Fluency.html-OOYa9E-t.js" as="script"><link rel="prefetch" href="/roar-docs/assets/Letter.html-B-J7bxpp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/PA.html-DjDLaeKF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-SIq9T3vb.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SRE.html-CXVKlhJH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/SWR.html-DOJeEvQH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-JZuLM6Dh.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BG_bx3pn.js" as="script"><link rel="prefetch" href="/roar-docs/assets/data-validator-trigger.html-C07max57.js" as="script"><link rel="prefetch" href="/roar-docs/assets/data-validator.html-DMAtQpIS.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-mDfaglM_.js" as="script"><link rel="prefetch" href="/roar-docs/assets/assignment-creation.html-mdN4sZYv.js" as="script"><link rel="prefetch" href="/roar-docs/assets/authentication.html-S18NjBvQ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/creating-users.html-BNOcIjIh.js" as="script"><link rel="prefetch" href="/roar-docs/assets/roster-changes.html-x2AojMR5.js" as="script"><link rel="prefetch" href="/roar-docs/assets/test-clever-users.html-CIxkzuEz.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-BLuAYGPo.js" as="script"><link rel="prefetch" href="/roar-docs/assets/append-to-admin-claims.html-BZyGuP88.js" as="script"><link rel="prefetch" href="/roar-docs/assets/associate-assessment-uid.html-IgUdrfXS.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-administrator-account.html-Ca3RVjnl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-guest-docs-for-google-users.html-DLr2cCpp.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-levante-group.html-9z4pM9Ld.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-levante-users.html-CwUDq7Ih.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-new-family.html-BNo4ln85.js" as="script"><link rel="prefetch" href="/roar-docs/assets/create-student-account.html-CI-jNywk.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-classes.html-ZjX7PpRa.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-custom-claims.html-DrqFq_fl.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-districts.html-BQMMeZJa.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-families.html-s5GbGHlK.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-groups.html-ZmgAiPXm.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mirror-schools.html-C6lh5Xce.js" as="script"><link rel="prefetch" href="/roar-docs/assets/remove-from-admin-claims.html-DRLOedXc.js" as="script"><link rel="prefetch" href="/roar-docs/assets/save-survey-responses.html-D00FFXh6.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-custom-claims.html-BW6qWpCL.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-assignment.html-9XjqqULJ.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-external-data.html-D_YacN8m.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user.html-CsbynLSY.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-created.html-jUrzc9QE.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-deleted.html-MAQpiQAm.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignment-updated.html-BdI08GER.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-administration-update.html-BBh9V6kb.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-assignments-on-user-update.html-Bm55EoUG.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-orgs.html-xOOxBWSt.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-clever-user.html-CvdT93LH.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-C64kBlUL.js" as="script"><link rel="prefetch" href="/roar-docs/assets/organize-bucket-logs-by-date.html-kcovM_L4.js" as="script"><link rel="prefetch" href="/roar-docs/assets/set-uid-claims.html-CfqnWTW7.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest-trial.html-CCQ2doS8.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-guest.html-DkAKgJ-Q.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-run.html-CS_Lt7-Q.js" as="script"><link rel="prefetch" href="/roar-docs/assets/soft-delete-user-trial.html-CcXGG6rM.js" as="script"><link rel="prefetch" href="/roar-docs/assets/sync-on-run-doc-update.html-AnZI7Q4z.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CnJ2GvFB.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-hfUZk0qU.js" as="script"><link rel="prefetch" href="/roar-docs/assets/dependencies.html-DAWA3pTf.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-cli-configuration.html-x8HYdJzd.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-emulator-configuration.html-Cgn_ZPH0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/github-secrets-and-workflows.html-D-sPYgIS.js" as="script"><link rel="prefetch" href="/roar-docs/assets/importing-and-exporting-data.html-BIkazs1G.js" as="script"><link rel="prefetch" href="/roar-docs/assets/local-environment-variables.html-BMWvb-pW.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Fjak1moP.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-CsRoSVdF.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-deploy-preview.html-5p14o9qT.js" as="script"><link rel="prefetch" href="/roar-docs/assets/firebase-hosting-merge.html-Dc3lBR8N.js" as="script"><link rel="prefetch" href="/roar-docs/assets/publish-to-npm-create-new-release.html-DhtDLpAw.js" as="script"><link rel="prefetch" href="/roar-docs/assets/submit-dashboard-pr.html-RcYHZx30.js" as="script"><link rel="prefetch" href="/roar-docs/assets/index.html-Dd-3p30M.js" as="script"><link rel="prefetch" href="/roar-docs/assets/404.html-BUi3KLk0.js" as="script"><link rel="prefetch" href="/roar-docs/assets/mermaid.esm.min-BVBeT7eh.js" as="script"><link rel="prefetch" href="/roar-docs/assets/setupDevtools-7MC2TMWH-BQVR_pIe.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/roar-docs/"><img class="vp-site-logo" src="/roar-docs/assets/roar-logo-short.svg" alt="ROAR Developer Documentation"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">ROAR Developer Documentation</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/databases/" aria-label="Databases"><!---->Databases<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/application/" aria-label="Application"><!---->Application<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/github-actions/" aria-label="GitHub Actions"><!---->GitHub Actions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/firebase-app-check/" aria-label="Firebase App Check"><!---->Firebase App Check<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/logging-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/roar-docs/emulation/" aria-label="Emulation"><!---->Emulation<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yeatmanlab/" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentation"><span class="title">Documentation</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/databases/" aria-label="Databases"><!---->Databases<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/application/" aria-label="Application"><!---->Application<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/github-actions/" aria-label="GitHub Actions"><!---->GitHub Actions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/firebase-app-check/" aria-label="Firebase App Check"><!---->Firebase App Check<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/roar-docs/logging-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/roar-docs/emulation/" aria-label="Emulation"><!---->Emulation<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yeatmanlab/" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/databases/" aria-label="Databases"><!---->Databases<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/databases/" aria-label="Database Information"><!---->Database Information<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/databases/admin.html" aria-label="gse-roar-admin"><!---->gse-roar-admin<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/databases/assessment.html" aria-label="gse-roar-assessment"><!---->gse-roar-assessment<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/bigquery/" aria-label="BigQuery"><!---->BigQuery<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/" aria-label="Querying Assessment Data"><!---->Querying Assessment Data<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/classes.html" aria-label="BigQuery schema: classes"><!---->BigQuery schema: classes<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/districts.html" aria-label="BigQuery schema: districts"><!---->BigQuery schema: districts<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/families.html" aria-label="BigQuery schema: families"><!---->BigQuery schema: families<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/groups.html" aria-label="BigQuery schema: groups"><!---->BigQuery schema: groups<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/schools.html" aria-label="BigQuery schema: schools"><!---->BigQuery schema: schools<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/user_runs.html" aria-label="BigQuery schema: user_runs"><!---->BigQuery schema: user_runs<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/user_trials.html" aria-label="BigQuery schema: user_trials"><!---->BigQuery schema: user_trials<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/bigquery/users.html" aria-label="BigQuery schema: users"><!---->BigQuery schema: users<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/" aria-label="Workflows"><!---->Workflows<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/assignment-creation.html" aria-label="Creating an Assignment"><!---->Creating an Assignment<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/authentication.html" aria-label="Authentication"><!---->Authentication<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/creating-users.html" aria-label="Creating new Users"><!---->Creating new Users<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/roster-changes.html" aria-label="User Roster Changes"><!---->User Roster Changes<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/workflows/test-clever-users.html" aria-label="How to Impersonate a Clever User on Localhost"><!---->How to Impersonate a Clever User on Localhost<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Application <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/application/auth.html" aria-label="Auth"><!---->Auth<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/github-actions/" aria-label="GitHub Actions"><!---->GitHub Actions<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/apps.html" aria-label="ROAR Apps GitHub Actions"><!---->ROAR Apps GitHub Actions<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/apps/" aria-label="GitHub Actions in ROAR Apps"><!---->GitHub Actions in ROAR Apps<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/apps/firebase-deploy-preview.html" aria-label="firebase-deploy-preview.yml"><!---->firebase-deploy-preview.yml<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/apps/firebase-hosting-merge.html" aria-label="firebase-hosting-merge.yml"><!---->firebase-hosting-merge.yml<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/apps/publish-to-npm-create-new-release.html" aria-label="publish-to-npm-create-new-release.yml"><!---->publish-to-npm-create-new-release.yml<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/apps/submit-dashboard-pr.html" aria-label="submit-dashboard-pr.yml"><!---->submit-dashboard-pr.yml<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/dashboard.html" aria-label="ROAR Dashboard GitHub Actions"><!---->ROAR Dashboard GitHub Actions<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/github-actions/dashboard/" aria-label="GitHub Actions in the ROAR Dashboard"><!---->GitHub Actions in the ROAR Dashboard<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/dashboard-components/" aria-label="Dashboard Components"><!---->Dashboard Components<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/dashboard-components/score-reports.html" aria-label="Organization Score Reports"><!---->Organization Score Reports<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/firebase-app-check/" aria-label="Firebase App Check"><!---->Firebase App Check<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/firebase-app-check/" aria-label="Firebase App Check Configuration for roar-firekit and roar-dashboard"><!---->Firebase App Check Configuration for roar-firekit and roar-dashboard<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/cloud-functions/" aria-label="Cloud Functions"><!---->Cloud Functions<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/" aria-label="gse-roar-admin"><!---->gse-roar-admin<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/" aria-label="Admin Database"><!---->Admin Database<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/append-to-admin-claims.html" aria-label="appendToAdminClaims()"><!---->appendToAdminClaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/associate-assessment-uid.html" aria-label="associateassessmentuid()"><!---->associateassessmentuid()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-administrator-account.html" aria-label="createAdministratorAccount()"><!---->createAdministratorAccount()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-guest-docs-for-google-users.html" aria-label="createGuestDocsForGoogleUsers()"><!---->createGuestDocsForGoogleUsers()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-levante-group.html" aria-label="createLevanteGroup()"><!---->createLevanteGroup()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-levante-users.html" aria-label="createLevanteUsers()"><!---->createLevanteUsers()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-new-family.html" aria-label="createnewfamily()"><!---->createnewfamily()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/create-student-account.html" aria-label="createstudentaccount()"><!---->createstudentaccount()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-classes.html" aria-label="mirrorClasses()"><!---->mirrorClasses()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-custom-claims.html" aria-label="mirrorCustomClaims"><!---->mirrorCustomClaims<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-districts.html" aria-label="mirrorDistricts()"><!---->mirrorDistricts()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-families.html" aria-label="mirrorFamilies()"><!---->mirrorFamilies()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-groups.html" aria-label="mirrorGroups()"><!---->mirrorGroups()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/mirror-schools.html" aria-label="mirrorSchools()"><!---->mirrorSchools()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/remove-from-admin-claims.html" aria-label="removefromadminclaims()"><!---->removefromadminclaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/save-survey-responses.html" aria-label="saveSurveyResponses()"><!---->saveSurveyResponses()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/set-uid-custom-claims.html" aria-label="setuidcustomclaims()"><!---->setuidcustomclaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user-assignment.html" aria-label="softDeleteUserAssignment()"><!---->softDeleteUserAssignment()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user-external-data.html" aria-label="softDeleteUserExternalData"><!---->softDeleteUserExternalData<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/soft-delete-user.html" aria-label="softDeleteUser()"><!---->softDeleteUser()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-created.html" aria-label="syncAssignmentCreated()"><!---->syncAssignmentCreated()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-deleted.html" aria-label="syncAssignmentDeleted()"><!---->syncAssignmentDeleted()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignment-updated.html" aria-label="syncAssignmentUpdated()"><!---->syncAssignmentUpdated()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignments-on-administration-update.html" aria-label="syncAssignmentsOnAdministrationUpdate()"><!---->syncAssignmentsOnAdministrationUpdate()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-assignments-on-user-update.html" aria-label="syncAssignmentsOnUserUpdate()"><!---->syncAssignmentsOnUserUpdate()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-clever-orgs.html" aria-label="syncCleverOrgs()"><!---->syncCleverOrgs()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-admin/sync-clever-user.html" aria-label="syncCleverUser()"><!---->syncCleverUser()<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/" aria-label="gse-roar-assessment"><!---->gse-roar-assessment<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/" aria-label="Assessment Database"><!---->Assessment Database<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/organize-bucket-logs-by-date.html" aria-label="organizeBucketLogsByDate()"><!---->organizeBucketLogsByDate()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/set-uid-claims.html" aria-label="setuidclaims()"><!---->setuidclaims()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-guest-trial.html" aria-label="softDeleteGuestTrial()"><!---->softDeleteGuestTrial()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-guest.html" aria-label="softDeleteGuest()"><!---->softDeleteGuest()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-user-run.html" aria-label="softDeleteUserRun()"><!---->softDeleteUserRun()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/soft-delete-user-trial.html" aria-label="softDeleteUserTrial()"><!---->softDeleteUserTrial()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/cloud-functions/gse-roar-assessment/sync-on-run-doc-update.html" aria-label="syncOnRunDocUpdate()"><!---->syncOnRunDocUpdate()<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/internationalization/" aria-label="Internationalization"><!---->Internationalization<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/Fluency.html" aria-label="ROAM Fluency"><!---->ROAM Fluency<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/Letter.html" aria-label="ROAR Letter"><!---->ROAR Letter<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/PA.html" aria-label="ROAR Phoneme"><!---->ROAR Phoneme<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/" aria-label="Internationalization of ROAR Apps"><!---->Internationalization of ROAR Apps<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/SRE.html" aria-label="ROAR Sentence"><!---->ROAR Sentence<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/internationalization/SWR.html" aria-label="ROAR Word"><!---->ROAR Word<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/integrating-new-apps/" aria-label="Integrating New Apps"><!---->Integrating New Apps<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/" aria-label="Integrating Roar Apps into the Dashboard"><!---->Integrating Roar Apps into the Dashboard<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/dashboard-integration.html" aria-label="Dashboard Integration"><!---->Dashboard Integration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/monitoring-and-testing.html" aria-label="Monitoring and Testing"><!---->Monitoring and Testing<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/preparing-the-app.html" aria-label="Preparing the App for Packaging and Deployment"><!---->Preparing the App for Packaging and Deployment<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/publishing-to-npm.html" aria-label="Packaging and Publishing to npm"><!---->Packaging and Publishing to npm<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/integrating-new-apps/secrets-overview.html" aria-label="Secrets in the GitHub Repository"><!---->Secrets in the GitHub Repository<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/assets-optimization/" aria-label="Assets Optimization"><!---->Assets Optimization<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/assets-optimization/" aria-label="Optimizing Assets"><!---->Optimizing Assets<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/assets-optimization/audio-optimization.html" aria-label="Audio Optimization Guide"><!---->Audio Optimization Guide<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/assets-optimization/image-optimization.html" aria-label="Image Optimization Guide"><!---->Image Optimization Guide<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/roar-redivis/" aria-label="ROAR Redivis Instance"><!---->ROAR Redivis Instance<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/roar-redivis/data-validator-trigger.html" aria-label="ROAR Data Validator Trigger"><!---->ROAR Data Validator Trigger<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/roar-redivis/data-validator.html" aria-label="ROAR Data Validator"><!---->ROAR Data Validator<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/roar-docs/logging-and-querying/" aria-label="Logging and Querying"><!---->Logging and Querying<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/logging-and-querying/" aria-label="ROAR Logging"><!---->ROAR Logging<!----></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/roar-docs/emulation/" aria-label="Emulation"><!---->Emulation<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/running-the-emulator/" aria-label="Running the Emulator"><!---->Running the Emulator<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/running-the-emulator/" aria-label="Commands"><!---->Commands<!----></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/roar-docs/emulation/emulator-configuration-guide/" aria-label="Emulator Configuration Guide"><!---->Emulator Configuration Guide<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/roar-docs/emulation/emulator-configuration-guide/" aria-label="Configuration"><!---->Configuration<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/roar-docs/emulation/emulator-configuration-guide/cypress-configuration.html" aria-label="Cypress Configuration"><!---->Cypress Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/emulator-configuration-guide/dependencies.html" aria-label="Setup and Dependencies"><!---->Setup and Dependencies<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/emulator-configuration-guide/firebase-cli-configuration.html" aria-label="Firebase CLI Configuration"><!---->Firebase CLI Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/emulator-configuration-guide/firebase-emulator-configuration.html" aria-label="Firebase Emulator Configuration"><!---->Firebase Emulator Configuration<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/emulator-configuration-guide/github-secrets-and-workflows.html" aria-label="GitHub Secrets and Workflows"><!---->GitHub Secrets and Workflows<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/emulator-configuration-guide/importing-and-exporting-data.html" aria-label="Importing and Exporting Data"><!---->Importing and Exporting Data<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/roar-docs/emulation/emulator-configuration-guide/local-environment-variables.html" aria-label="Local Environment Variables"><!---->Local Environment Variables<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="cypress-configuration" tabindex="-1"><a class="header-anchor" href="#cypress-configuration"><span>Cypress Configuration</span></a></h1><p>We can set up Cypress so that it can run tests against the Firebase Emulator Suite. This allows us to test the Firebase services that are used in the project locally and inspect the data that is being sent to the Firebase services.</p><h2 id="directory-structure" tabindex="-1"><a class="header-anchor" href="#directory-structure"><span>Directory Structure</span></a></h2><p>The following directory structure is used to configure Cypress to run tests against the Firebase Emulator Suite:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">cypress/</span>
<span class="line">├── e2e/</span>
<span class="line">│   ├── default-tests/</span>
<span class="line">│   │   ├── test1.cy.js</span>
<span class="line">│   │   ├── test2.cy.js</span>
<span class="line">│   │   ├── variant-tests/</span>
<span class="line">│   │   │   ├── test1.cy.js</span>
<span class="line">│   │   │   └── test2.cy.js</span>
<span class="line">│   ├── generateVariantTests.cy.js</span>
<span class="line">├── fixtures/</span>
<span class="line">│   ├── generatedTestTemplate.js</span>
<span class="line">│   ├── data1.json</span>
<span class="line">│   └── data2.json</span>
<span class="line">├── support/</span>
<span class="line">│   ├── commands.js</span>
<span class="line">│   ├── constants.js</span>
<span class="line">│   ├── devFirebase.js</span>
<span class="line">│   ├── devFirebaseConfig.js</span>
<span class="line">│   ├── e2e.js</span>
<span class="line">│   ├── query.js</span>
<span class="line">│   └── utils.js</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cypress-config-js" tabindex="-1"><a class="header-anchor" href="#cypress-config-js"><span>cypress.config.js</span></a></h2><p>The <code>cypress.config.js</code> file is used to configure the Cypress test runner. This file is located in the root of the project directory. The following configuration options are used to setup Cypress to run tests against the Firebase Emulator Suite:</p><p>Create or overwrite the <code>cypress.config.js</code> file with the following content:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// eslint-disable-next-line import/no-extraneous-dependencies</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;cypress&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> dotenv <span class="token keyword">from</span> <span class="token string">&#39;dotenv&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// eslint-disable-next-line import/no-extraneous-dependencies</span></span>
<span class="line"><span class="token keyword">import</span> cypressFsPlugin <span class="token keyword">from</span> <span class="token string">&#39;cypress-fs/plugins/index&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;.env.test&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">projectId</span><span class="token operator">:</span> <span class="token string">&#39;app-project-id&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">e2e</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">experimentalRunAllSpecs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">retries</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// eslint-disable-next-line no-unused-vars</span></span>
<span class="line">    <span class="token function">setupNodeEvents</span><span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token function">cypressFsPlugin</span><span class="token punctuation">(</span>on<span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">baseUrl</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">CYPRESS_BASE_URL</span> <span class="token operator">??</span> <span class="token string">&#39;http://localhost:8000&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">superAdminUsername</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SUPER_ADMIN_USERNAME</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">superAdminPassword</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SUPER_ADMIN_PASSWORD</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">superAdminEmail</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SUPER_ADMIN_EMAIL</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">superAdminId</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SUPER_ADMIN_ID</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">appCheckDebugToken</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">APPCHECK_DEBUG_TOKEN</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This configuration allows us to mainain a separate <code>.env.test</code> file for the Cypress environment variables. <br> The <code>projectId</code> is set to the project ID of the Cypress Cloud project which stores the test results. Substitute with the actualy projectId found in the <a href="https://cloud.cypress.io/organizations/ed07b9f9-d1f7-4784-953a-eecbb7303e36/projects" target="_blank" rel="noopener noreferrer">Cypress Cloud</a> for the project.<br> The <code>experimentalRunAllSpecs</code> is set to <code>true</code> to run all the tests. The <code>retries</code> is set to 2 to retry the tests if they fail. The <code>setupNodeEvents</code> is used to setup the <code>cypress-fs</code> plugin to allow Cypress to read and write files.<br> The <code>baseUrl</code> is set to the local server that is running the Firebase Emulator Suite. The <code>timeout</code> is set to 10 seconds. The <code>superAdminUsername</code>, <code>superAdminPassword</code>, <code>superAdminEmail</code>, <code>superAdminId</code>, and <code>appCheckDebugToken</code> are set to the environment variables that are used in the Cypress tests. <br> The <code>timeout</code> is set to 10 seconds to allow the tests to run for a longer period of time. <br> The <code>superAdminUsername</code>, <code>superAdminPassword</code>, <code>superAdminEmail</code>, <code>superAdminId</code>, and <code>appCheckDebugToken</code> are set to the environment variables that are used in the Cypress tests and are also stored as GitHub secrets.</p><h2 id="supporting-files" tabindex="-1"><a class="header-anchor" href="#supporting-files"><span>Supporting Files</span></a></h2><p>The following files are used to support the Cypress configuration, in addition to the Cypress provisioned <code>e2e.js</code>, and <code>commands.js</code>.</p><h3 id="constants-js" tabindex="-1"><a class="header-anchor" href="#constants-js"><span>constants.js</span></a></h3><p>The <code>constants.js</code> file is used to define constants that are used in the Cypress tests. This file is located in the <code>cypress/support/</code> directory.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">TIMEOUT</span> <span class="token operator">=</span> Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">&#39;timeout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">TASK</span> <span class="token operator">=</span> <span class="token string">&#39;task-name&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">TEST_DIR_NAME</span> <span class="token operator">=</span> <span class="token string">&#39;cypress/e2e/default-tests/variant-tests/&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">COMMAND</span> <span class="token operator">=</span> <span class="token string">&#39;play-game-command&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The contents of this file will vary depending on the app, but should at least contain the <code>TIMEOUT</code>, <code>TASK</code>, <code>TEST_DIR_NAME</code>, and <code>COMMAND</code> constants. Replace <code>task-name</code> with the name of the task that the variants are registered under. Replace <code>play-game-command</code> with the command that is used to play the game.</p><p>The <code>COMMAND</code> constant should be a Cypress command which initializes the game. The command should take an object as an argument, and this object should contain keys for variant parameters and language, with other keys as needed. <br> The command should be defined in the <code>commands.js</code> file.</p><h4 id="example-command-constant-for-roar-sentence" tabindex="-1"><a class="header-anchor" href="#example-command-constant-for-roar-sentence"><span>Example COMMAND constant for ROAR Sentence:</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">Cypress<span class="token punctuation">.</span>Commands<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token string">&#39;playSREGame&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    startText <span class="token operator">=</span> <span class="token constant">START_TEXT_DEFAULT</span><span class="token punctuation">,</span></span>
<span class="line">    endText <span class="token operator">=</span> <span class="token constant">END_TEXT_DEFAULT</span><span class="token punctuation">,</span></span>
<span class="line">    language <span class="token operator">=</span> <span class="token string">&#39;en&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    variantParams <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>variantParams<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">&#39;baseUrl&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>variantParams<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token constant">TIMEOUT</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">      cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">&#39;baseUrl&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token constant">TIMEOUT</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    cy<span class="token punctuation">.</span><span class="token function">playIntro</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">startText</span><span class="token operator">:</span> startText<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">variantParams</span><span class="token operator">:</span> variantParams<span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    cy<span class="token punctuation">.</span><span class="token function">playSRELoop</span><span class="token punctuation">(</span>endText<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="generatevarianttests-cy-js" tabindex="-1"><a class="header-anchor" href="#generatevarianttests-cy-js"><span>generateVariantTests.cy.js</span></a></h3><p>The <code>generateVariantTests.cy.js</code> file is used to generate the test cases for the variants. This file is located in the <code>cypress/</code> directory at the top level. The following content is used to generate the test cases for the variants:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> getRegisteredVariants <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../support/query&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useDevFirebase<span class="token punctuation">,</span> signInAsSuperAdmin<span class="token punctuation">,</span> mapVariantParameters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../support/utils&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> generatedTestTemplate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../fixtures/generatedTestTemplate&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">TIMEOUT</span><span class="token punctuation">,</span> <span class="token constant">TASK</span><span class="token punctuation">,</span> <span class="token constant">TEST_DIR_NAME</span><span class="token punctuation">,</span> <span class="token constant">COMMAND</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../support/constants&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> auth<span class="token punctuation">,</span> db <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDevFirebase</span><span class="token punctuation">(</span><span class="token string">&#39;assessmentDev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#39;Generating variant tests.&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">signInAsSuperAdmin</span><span class="token punctuation">(</span>auth<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#39;Creates a test spec for each variant.&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    cy<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token function">getRegisteredVariants</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token constant">TASK</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token constant">TIMEOUT</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">docs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      docs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">variant</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        cy<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Found registered variant: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>variant<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> with params: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>variant<span class="token punctuation">.</span>params<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">const</span> variantParams <span class="token operator">=</span> <span class="token function">mapVariantParameters</span><span class="token punctuation">(</span>variant<span class="token punctuation">.</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// Create a test spec for each registered variant</span></span>
<span class="line">        cy<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span></span>
<span class="line">          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">TEST_DIR_NAME</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>variant<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.cy.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token function">generatedTestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">command</span><span class="token operator">:</span> <span class="token constant">COMMAND</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">name</span><span class="token operator">:</span> variant<span class="token punctuation">.</span>name<span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">params</span><span class="token operator">:</span> variantParams<span class="token punctuation">,</span></span>
<span class="line">          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          cy<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Successfully created test spec:&#39;</span><span class="token punctuation">,</span> variant<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="generatedtesttemplate-js" tabindex="-1"><a class="header-anchor" href="#generatedtesttemplate-js"><span>generatedTestTemplate.js</span></a></h3><p>The <code>generatedTestTemplate.js</code> file is used to generate the test template for the variants. This file is located in the <code>cypress/fixtures/</code> directory.</p><p>The following content is used to generate the test template for the variants:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">generatedTestTemplate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> command <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"></span>
<span class="line">describe(&#39;Test play through of variant: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;, () =&gt; {</span>
<span class="line">  it(&#39;Plays the generated test spec.&#39;, () =&gt; {</span>
<span class="line">    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>command<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">({</span>
<span class="line">        variantParams: &#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;</span>
<span class="line">    });</span>
<span class="line">  });</span>
<span class="line">});</span>
<span class="line"></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="devfirebase-js" tabindex="-1"><a class="header-anchor" href="#devfirebase-js"><span>devFirebase.js</span></a></h3><p>The <code>devFirebase.js</code> file is used to setup the Firebase configuration for the Cypress tests. This file is located in the <code>cypress/support/</code> directory.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> getApps<span class="token punctuation">,</span> initializeApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/app&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> getFirestore<span class="token punctuation">,</span> connectFirestoreEmulator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/firestore&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> getAuth <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/auth&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> devFirebaseConfig <span class="token keyword">from</span> <span class="token string">&#39;./devFirebaseConfig&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Initializes a Firebase app and retrieves the Auth and Firestore services.</span>
<span class="line"> * If the app with the specified name already exists, it reuses the existing app.</span>
<span class="line"> * Optionally connects to the Firestore emulator if `useEmulator` is true.</span>
<span class="line"> *</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> <span class="token parameter">config</span> - The Firebase configuration object.</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">name</span> - The name of the Firebase app instance.</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>boolean<span class="token punctuation">}</span></span> <span class="token parameter">useEmulator</span> - A flag indicating whether to connect to the Firestore emulator.</span>
<span class="line"> * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> - An object containing the Firebase app, Auth, and Firestore services.</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">initializeAndGetFirebase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">config<span class="token punctuation">,</span> name<span class="token punctuation">,</span> useEmulator</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> existingApp <span class="token operator">=</span> <span class="token function">getApps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> app<span class="token punctuation">.</span>name <span class="token operator">===</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>existingApp<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Found existing app:&#39;</span><span class="token punctuation">,</span> existingApp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">const</span> app <span class="token operator">=</span> existingApp <span class="token operator">||</span> <span class="token function">initializeApp</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> auth <span class="token operator">=</span> <span class="token function">getAuth</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token function">getFirestore</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>useEmulator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Connecting to Firestore emulator...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">connectFirestoreEmulator</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span> <span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Connected to Firestore emulator.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">    app<span class="token punctuation">,</span></span>
<span class="line">    auth<span class="token punctuation">,</span></span>
<span class="line">    db<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Retrieves the Firebase app, Auth, and Firestore services based on the given config key.</span>
<span class="line"> * It supports multiple environments (e.g., adminDev, assessmentDev) and connects to the Firestore emulator</span>
<span class="line"> * if `useEmulator` is true. Returns null if the specified config is not found.</span>
<span class="line"> *</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">config</span> - The key for selecting the Firebase configuration (e.g., &#39;adminDev&#39;, &#39;assessmentDev&#39;).</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>boolean<span class="token punctuation">}</span></span> <span class="token optional-parameter"><span class="token punctuation">[</span><span class="token parameter">useEmulator</span><span class="token punctuation">=</span><span class="token code language-javascript"><span class="token boolean">true</span></span><span class="token punctuation">]</span></span> - A flag indicating whether to connect to the Firestore emulator.</span>
<span class="line"> * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token operator">|</span><span class="token keyword">null</span><span class="token punctuation">}</span></span> - An object containing the Firebase app, Auth, and Firestore services, or null if no config is found.</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getDevFirebase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">config<span class="token punctuation">,</span> useEmulator <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> configMap <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">adminDev</span><span class="token operator">:</span> devFirebaseConfig<span class="token punctuation">.</span>adminDev<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">assessmentDev</span><span class="token operator">:</span> devFirebaseConfig<span class="token punctuation">.</span>assessmentDev<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> firebaseConfig <span class="token operator">=</span> configMap<span class="token punctuation">[</span>config<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> firebaseConfig <span class="token operator">?</span> <span class="token function">initializeAndGetFirebase</span><span class="token punctuation">(</span>firebaseConfig<span class="token punctuation">,</span> config<span class="token punctuation">,</span> useEmulator<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="devfirebaseconfig-js" tabindex="-1"><a class="header-anchor" href="#devfirebaseconfig-js"><span>devFirebaseConfig.js</span></a></h3><p>The <code>devFirebaseConfig.js</code> file is used to store the Firebase configuration for the Cypress tests. This file is located in the <code>cypress/support/</code> directory.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> devFirebaseConfig <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">adminDev</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">&#39;AIzaSyCl-JsYraUfofQZXpzshQ6s-E0nYzlCvvg&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">authDomain</span><span class="token operator">:</span> <span class="token string">&#39;gse-roar-admin-dev.firebaseapp.com&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">projectId</span><span class="token operator">:</span> <span class="token string">&#39;gse-roar-admin-dev&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">storageBucket</span><span class="token operator">:</span> <span class="token string">&#39;gse-roar-admin-dev.appspot.com&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">messagingSenderId</span><span class="token operator">:</span> <span class="token string">&#39;401455396681&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">&#39;1:401455396681:web:859ea073a116d0aececc98&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">siteKey</span><span class="token operator">:</span> <span class="token string">&#39;6LeTgCEqAAAAAPVXEVtWoinVf_CLYF30PaETyyiT&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">debugToken</span><span class="token operator">:</span> Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">&#39;appCheckDebugToken&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">assessmentDev</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">&#39;AIzaSyCEUxEgYMp4fg2zORT0lsgn4Q6CCoMVzjU&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">authDomain</span><span class="token operator">:</span> <span class="token string">&#39;gse-roar-assessment-dev.firebaseapp.com&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">projectId</span><span class="token operator">:</span> <span class="token string">&#39;gse-roar-assessment-dev&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">storageBucket</span><span class="token operator">:</span> <span class="token string">&#39;gse-roar-assessment-dev.appspot.com&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">messagingSenderId</span><span class="token operator">:</span> <span class="token string">&#39;26086061121&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">&#39;1:26086061121:web:262163d6c145b7a80bc2c0&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">siteKey</span><span class="token operator">:</span> <span class="token string">&#39;6Ldq2SEqAAAAAKXTxXs9GnykkEZLYeVijzAKzqfQ&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">debugToken</span><span class="token operator">:</span> Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">&#39;appCheckDebugToken&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">emulatorPorts</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">db</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token number">9099</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">functions</span><span class="token operator">:</span> <span class="token number">9000</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">hosting</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> devFirebaseConfig<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="query-js" tabindex="-1"><a class="header-anchor" href="#query-js"><span>query.js</span></a></h3><p>The <code>query.js</code> file is used to query the Firestore database. This file is located in the <code>cypress/support/</code> directory.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> collection<span class="token punctuation">,</span> getDocs<span class="token punctuation">,</span> query<span class="token punctuation">,</span> where <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/firestore&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getRegisteredVariants</span><span class="token punctuation">(</span><span class="token parameter">firestore<span class="token punctuation">,</span> task</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> variantsRef <span class="token operator">=</span> <span class="token function">collection</span><span class="token punctuation">(</span>firestore<span class="token punctuation">,</span> <span class="token string">&#39;tasks&#39;</span><span class="token punctuation">,</span> task<span class="token punctuation">,</span> <span class="token string">&#39;variants&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> q <span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span>variantsRef<span class="token punctuation">,</span> <span class="token function">where</span><span class="token punctuation">(</span><span class="token string">&#39;registered&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;==&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> variantsSnapshot <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDocs</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>variantsSnapshot<span class="token punctuation">.</span>empty<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;No registered variants found.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">const</span> docs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Found </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>variantsSnapshot<span class="token punctuation">.</span>size<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> registered variants.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    variantsSnapshot<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      docs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> docs<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Error getting documents:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="utils-js" tabindex="-1"><a class="header-anchor" href="#utils-js"><span>utils.js</span></a></h3><p>The <code>utils.js</code> file is used to define utility functions for the Cypress tests. This file is located in the <code>cypress/support/</code> directory.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> signInWithEmailAndPassword <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/auth&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> getDevFirebase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./devFirebase&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Retrieves the Firebase app, Auth, and Firestore services for the specified environment.</span>
<span class="line"> * This function abstracts the process of accessing Firebase services based on the provided environment name.</span>
<span class="line"> *</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">name</span> - The environment name (e.g., &#39;adminDev&#39;, &#39;assessmentDev&#39;) used to get the corresponding Firebase configuration.</span>
<span class="line"> * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> - An object containing the Firebase app, Auth, and Firestore services for the specified environment.</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useFirebaseEmulator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> firebase <span class="token operator">=</span> <span class="token function">getDevFirebase</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">app</span><span class="token operator">:</span> firebase<span class="token operator">?.</span>app<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">auth</span><span class="token operator">:</span> firebase<span class="token operator">?.</span>auth<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">db</span><span class="token operator">:</span> firebase<span class="token operator">?.</span>db<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Signs in as a Super Admin using Firebase Authentication within a Cypress test.</span>
<span class="line"> * The credentials (email and password) are pulled from Cypress environment variables.</span>
<span class="line"> *</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> <span class="token parameter">auth</span> - The Firebase Auth instance used to sign in.</span>
<span class="line"> * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>Promise<span class="token punctuation">&lt;</span>Object<span class="token punctuation">&gt;</span><span class="token punctuation">}</span></span> - A promise that resolves to the authenticated user object after a successful sign-in.</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">signInAsSuperAdmin</span><span class="token punctuation">(</span><span class="token parameter">auth</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  cy<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line">    <span class="token function">signInWithEmailAndPassword</span><span class="token punctuation">(</span>auth<span class="token punctuation">,</span> Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">&#39;superAdminEmail&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">&#39;superAdminPassword&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">userCredential</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> userCredential<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * Converts an object of variant parameters into a URL query string format.</span>
<span class="line"> *</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> <span class="token parameter">params</span> - The object containing variant parameters to be converted.</span>
<span class="line"> * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> - A string representing the variant parameters in URL query string format.</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapVariantParameters</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/yeatmanlab//edit/main/emulation/emulator-configuration-guide/cypress-configuration.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: ksmontville@gmail.com">Kyle</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link route-link-active auto-link prev" href="/roar-docs/emulation/emulator-configuration-guide/" aria-label="Configuration"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Configuration</span></div></a><a class="route-link auto-link next" href="/roar-docs/emulation/emulator-configuration-guide/dependencies.html" aria-label="Setup and Dependencies"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Setup and Dependencies</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/roar-docs/assets/app-BMq2XO4d.js" defer></script>
  </body>
</html>
